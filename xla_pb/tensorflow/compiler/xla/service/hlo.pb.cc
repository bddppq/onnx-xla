// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: tensorflow/compiler/xla/service/hlo.proto

#include "tensorflow/compiler/xla/service/hlo.pb.h"

#include <algorithm>

#include <google/protobuf/stubs/common.h>
#include <google/protobuf/stubs/port.h>
#include <google/protobuf/stubs/once.h>
#include <google/protobuf/io/coded_stream.h>
#include <google/protobuf/wire_format_lite_inl.h>
#include <google/protobuf/descriptor.h>
#include <google/protobuf/generated_message_reflection.h>
#include <google/protobuf/reflection_ops.h>
#include <google/protobuf/wire_format.h>
// This is a temporary google only hack
#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
#include "third_party/protobuf/version.h"
#endif
// @@protoc_insertion_point(includes)
namespace xla {
class HloInstructionProto_SliceDimensionsDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HloInstructionProto_SliceDimensions>
      _instance;
} _HloInstructionProto_SliceDimensions_default_instance_;
class HloInstructionProtoDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HloInstructionProto>
      _instance;
} _HloInstructionProto_default_instance_;
class HloComputationProtoDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HloComputationProto>
      _instance;
} _HloComputationProto_default_instance_;
class HloModuleProtoDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HloModuleProto>
      _instance;
} _HloModuleProto_default_instance_;
class HloOrderingProto_SequentialComputationDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HloOrderingProto_SequentialComputation>
      _instance;
} _HloOrderingProto_SequentialComputation_default_instance_;
class HloOrderingProtoDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HloOrderingProto>
      _instance;
} _HloOrderingProto_default_instance_;
class LogicalBufferProto_LocationDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<LogicalBufferProto_Location>
      _instance;
} _LogicalBufferProto_Location_default_instance_;
class LogicalBufferProtoDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<LogicalBufferProto>
      _instance;
} _LogicalBufferProto_default_instance_;
class BufferAllocationProto_AssignedDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<BufferAllocationProto_Assigned>
      _instance;
} _BufferAllocationProto_Assigned_default_instance_;
class BufferAllocationProtoDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<BufferAllocationProto>
      _instance;
} _BufferAllocationProto_default_instance_;
class HeapSimulatorTrace_EventDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HeapSimulatorTrace_Event>
      _instance;
} _HeapSimulatorTrace_Event_default_instance_;
class HeapSimulatorTraceDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HeapSimulatorTrace>
      _instance;
} _HeapSimulatorTrace_default_instance_;
class BufferAssignmentProto_BufferAliasDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<BufferAssignmentProto_BufferAlias>
      _instance;
} _BufferAssignmentProto_BufferAlias_default_instance_;
class BufferAssignmentProtoDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<BufferAssignmentProto>
      _instance;
} _BufferAssignmentProto_default_instance_;
class HloProtoDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HloProto>
      _instance;
} _HloProto_default_instance_;
class HloSnapshotDefaultTypeInternal {
 public:
  ::google::protobuf::internal::ExplicitlyConstructed<HloSnapshot>
      _instance;
} _HloSnapshot_default_instance_;
}  // namespace xla
namespace protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto {
void InitDefaultsHloInstructionProto_SliceDimensionsImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  {
    void* ptr = &::xla::_HloInstructionProto_SliceDimensions_default_instance_;
    new (ptr) ::xla::HloInstructionProto_SliceDimensions();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HloInstructionProto_SliceDimensions::InitAsDefaultInstance();
}

void InitDefaultsHloInstructionProto_SliceDimensions() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHloInstructionProto_SliceDimensionsImpl);
}

void InitDefaultsHloInstructionProtoImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsShape();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsOpMetadata();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsLiteralProto();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsWindow();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsConvolutionDimensionNumbers();
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloInstructionProto_SliceDimensions();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsPaddingConfig();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsDotDimensionNumbers();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsGatherDimensionNumbers();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsOpSharding();
  {
    void* ptr = &::xla::_HloInstructionProto_default_instance_;
    new (ptr) ::xla::HloInstructionProto();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HloInstructionProto::InitAsDefaultInstance();
}

void InitDefaultsHloInstructionProto() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHloInstructionProtoImpl);
}

void InitDefaultsHloComputationProtoImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloInstructionProto();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsProgramShape();
  {
    void* ptr = &::xla::_HloComputationProto_default_instance_;
    new (ptr) ::xla::HloComputationProto();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HloComputationProto::InitAsDefaultInstance();
}

void InitDefaultsHloComputationProto() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHloComputationProtoImpl);
}

void InitDefaultsHloModuleProtoImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloComputationProto();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsProgramShape();
  {
    void* ptr = &::xla::_HloModuleProto_default_instance_;
    new (ptr) ::xla::HloModuleProto();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HloModuleProto::InitAsDefaultInstance();
}

void InitDefaultsHloModuleProto() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHloModuleProtoImpl);
}

void InitDefaultsHloOrderingProto_SequentialComputationImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  {
    void* ptr = &::xla::_HloOrderingProto_SequentialComputation_default_instance_;
    new (ptr) ::xla::HloOrderingProto_SequentialComputation();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HloOrderingProto_SequentialComputation::InitAsDefaultInstance();
}

void InitDefaultsHloOrderingProto_SequentialComputation() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHloOrderingProto_SequentialComputationImpl);
}

void InitDefaultsHloOrderingProtoImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloOrderingProto_SequentialComputation();
  {
    void* ptr = &::xla::_HloOrderingProto_default_instance_;
    new (ptr) ::xla::HloOrderingProto();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HloOrderingProto::InitAsDefaultInstance();
}

void InitDefaultsHloOrderingProto() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHloOrderingProtoImpl);
}

void InitDefaultsLogicalBufferProto_LocationImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  {
    void* ptr = &::xla::_LogicalBufferProto_Location_default_instance_;
    new (ptr) ::xla::LogicalBufferProto_Location();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::LogicalBufferProto_Location::InitAsDefaultInstance();
}

void InitDefaultsLogicalBufferProto_Location() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsLogicalBufferProto_LocationImpl);
}

void InitDefaultsLogicalBufferProtoImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto_Location();
  {
    void* ptr = &::xla::_LogicalBufferProto_default_instance_;
    new (ptr) ::xla::LogicalBufferProto();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::LogicalBufferProto::InitAsDefaultInstance();
}

void InitDefaultsLogicalBufferProto() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsLogicalBufferProtoImpl);
}

void InitDefaultsBufferAllocationProto_AssignedImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  {
    void* ptr = &::xla::_BufferAllocationProto_Assigned_default_instance_;
    new (ptr) ::xla::BufferAllocationProto_Assigned();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::BufferAllocationProto_Assigned::InitAsDefaultInstance();
}

void InitDefaultsBufferAllocationProto_Assigned() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsBufferAllocationProto_AssignedImpl);
}

void InitDefaultsBufferAllocationProtoImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAllocationProto_Assigned();
  {
    void* ptr = &::xla::_BufferAllocationProto_default_instance_;
    new (ptr) ::xla::BufferAllocationProto();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::BufferAllocationProto::InitAsDefaultInstance();
}

void InitDefaultsBufferAllocationProto() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsBufferAllocationProtoImpl);
}

void InitDefaultsHeapSimulatorTrace_EventImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  {
    void* ptr = &::xla::_HeapSimulatorTrace_Event_default_instance_;
    new (ptr) ::xla::HeapSimulatorTrace_Event();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HeapSimulatorTrace_Event::InitAsDefaultInstance();
}

void InitDefaultsHeapSimulatorTrace_Event() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHeapSimulatorTrace_EventImpl);
}

void InitDefaultsHeapSimulatorTraceImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHeapSimulatorTrace_Event();
  {
    void* ptr = &::xla::_HeapSimulatorTrace_default_instance_;
    new (ptr) ::xla::HeapSimulatorTrace();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HeapSimulatorTrace::InitAsDefaultInstance();
}

void InitDefaultsHeapSimulatorTrace() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHeapSimulatorTraceImpl);
}

void InitDefaultsBufferAssignmentProto_BufferAliasImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto_Location();
  {
    void* ptr = &::xla::_BufferAssignmentProto_BufferAlias_default_instance_;
    new (ptr) ::xla::BufferAssignmentProto_BufferAlias();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::BufferAssignmentProto_BufferAlias::InitAsDefaultInstance();
}

void InitDefaultsBufferAssignmentProto_BufferAlias() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsBufferAssignmentProto_BufferAliasImpl);
}

void InitDefaultsBufferAssignmentProtoImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto();
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAssignmentProto_BufferAlias();
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAllocationProto();
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHeapSimulatorTrace();
  {
    void* ptr = &::xla::_BufferAssignmentProto_default_instance_;
    new (ptr) ::xla::BufferAssignmentProto();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::BufferAssignmentProto::InitAsDefaultInstance();
}

void InitDefaultsBufferAssignmentProto() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsBufferAssignmentProtoImpl);
}

void InitDefaultsHloProtoImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloModuleProto();
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloOrderingProto();
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAssignmentProto();
  {
    void* ptr = &::xla::_HloProto_default_instance_;
    new (ptr) ::xla::HloProto();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HloProto::InitAsDefaultInstance();
}

void InitDefaultsHloProto() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHloProtoImpl);
}

void InitDefaultsHloSnapshotImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

#ifdef GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  ::google::protobuf::internal::InitProtobufDefaultsForceUnique();
#else
  ::google::protobuf::internal::InitProtobufDefaults();
#endif  // GOOGLE_PROTOBUF_ENFORCE_UNIQUENESS
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloProto();
  protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::InitDefaultsLiteralProto();
  {
    void* ptr = &::xla::_HloSnapshot_default_instance_;
    new (ptr) ::xla::HloSnapshot();
    ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);
  }
  ::xla::HloSnapshot::InitAsDefaultInstance();
}

void InitDefaultsHloSnapshot() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &InitDefaultsHloSnapshotImpl);
}

::google::protobuf::Metadata file_level_metadata[16];
const ::google::protobuf::EnumDescriptor* file_level_enum_descriptors[1];

const ::google::protobuf::uint32 TableStruct::offsets[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto_SliceDimensions, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto_SliceDimensions, start_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto_SliceDimensions, limit_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto_SliceDimensions, stride_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, opcode_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, shape_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, metadata_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, literal_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, parameter_number_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, fusion_kind_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, tuple_index_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, dimensions_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, window_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, convolution_dimension_numbers_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, slice_dimensions_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, exponent_bits_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, mantissa_bits_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, dynamic_slice_sizes_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, padding_config_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, outfeed_config_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, distribution_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, epsilon_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, feature_index_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, channel_id_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, infeed_config_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, custom_call_target_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, outfeed_shape_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, dot_dimension_numbers_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, fft_type_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, fft_length_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, gather_dimension_numbers_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, gather_window_bounds_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, channel_name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, cost_estimate_ns_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, id_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, operand_ids_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, control_predecessor_ids_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, called_computation_ids_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, replica_group_ids_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, sharding_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloInstructionProto, backend_config_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloComputationProto, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloComputationProto, name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloComputationProto, instructions_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloComputationProto, program_shape_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloComputationProto, id_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloComputationProto, root_id_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloModuleProto, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloModuleProto, name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloModuleProto, entry_computation_name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloModuleProto, entry_computation_id_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloModuleProto, computations_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloModuleProto, program_shape_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloModuleProto, id_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloOrderingProto_SequentialComputation, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloOrderingProto_SequentialComputation, computation_name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloOrderingProto_SequentialComputation, instruction_names_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloOrderingProto, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloOrderingProto, sequential_computations_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto_Location, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto_Location, computation_name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto_Location, instruction_name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto_Location, shape_index_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto, id_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto, size_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto, defined_at_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::LogicalBufferProto, color_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto_Assigned, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto_Assigned, logical_buffer_id_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto_Assigned, offset_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto_Assigned, size_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, index_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, size_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, is_thread_local_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, is_reusable_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, is_entry_computation_parameter_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, parameter_number_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, parameter_shape_index_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, maybe_live_out_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, color_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAllocationProto, assigned_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace_Event, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace_Event, kind_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace_Event, buffer_id_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace_Event, computation_name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace_Event, instruction_name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace_Event, share_with_canonical_id_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace, events_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HeapSimulatorTrace, whole_module_simulation_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAssignmentProto_BufferAlias, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAssignmentProto_BufferAlias, source_buffer_id_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAssignmentProto_BufferAlias, location_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAssignmentProto, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAssignmentProto, logical_buffers_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAssignmentProto, buffer_aliases_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAssignmentProto, buffer_allocations_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::BufferAssignmentProto, heap_simulator_traces_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloProto, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloProto, hlo_module_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloProto, hlo_ordering_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloProto, buffer_assignment_),
  ~0u,  // no _has_bits_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloSnapshot, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  ~0u,  // no _weak_field_map_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloSnapshot, hlo_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloSnapshot, arguments_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloSnapshot, result_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(::xla::HloSnapshot, execution_platform_),
};
static const ::google::protobuf::internal::MigrationSchema schemas[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {
  { 0, -1, sizeof(::xla::HloInstructionProto_SliceDimensions)},
  { 8, -1, sizeof(::xla::HloInstructionProto)},
  { 51, -1, sizeof(::xla::HloComputationProto)},
  { 61, -1, sizeof(::xla::HloModuleProto)},
  { 72, -1, sizeof(::xla::HloOrderingProto_SequentialComputation)},
  { 79, -1, sizeof(::xla::HloOrderingProto)},
  { 85, -1, sizeof(::xla::LogicalBufferProto_Location)},
  { 93, -1, sizeof(::xla::LogicalBufferProto)},
  { 102, -1, sizeof(::xla::BufferAllocationProto_Assigned)},
  { 110, -1, sizeof(::xla::BufferAllocationProto)},
  { 125, -1, sizeof(::xla::HeapSimulatorTrace_Event)},
  { 135, -1, sizeof(::xla::HeapSimulatorTrace)},
  { 142, -1, sizeof(::xla::BufferAssignmentProto_BufferAlias)},
  { 149, -1, sizeof(::xla::BufferAssignmentProto)},
  { 158, -1, sizeof(::xla::HloProto)},
  { 166, -1, sizeof(::xla::HloSnapshot)},
};

static ::google::protobuf::Message const * const file_default_instances[] = {
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HloInstructionProto_SliceDimensions_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HloInstructionProto_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HloComputationProto_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HloModuleProto_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HloOrderingProto_SequentialComputation_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HloOrderingProto_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_LogicalBufferProto_Location_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_LogicalBufferProto_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_BufferAllocationProto_Assigned_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_BufferAllocationProto_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HeapSimulatorTrace_Event_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HeapSimulatorTrace_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_BufferAssignmentProto_BufferAlias_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_BufferAssignmentProto_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HloProto_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&::xla::_HloSnapshot_default_instance_),
};

void protobuf_AssignDescriptors() {
  AddDescriptors();
  ::google::protobuf::MessageFactory* factory = NULL;
  AssignDescriptors(
      "tensorflow/compiler/xla/service/hlo.proto", schemas, file_default_instances, TableStruct::offsets, factory,
      file_level_metadata, file_level_enum_descriptors, NULL);
}

void protobuf_AssignDescriptorsOnce() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &protobuf_AssignDescriptors);
}

void protobuf_RegisterTypes(const ::std::string&) GOOGLE_PROTOBUF_ATTRIBUTE_COLD;
void protobuf_RegisterTypes(const ::std::string&) {
  protobuf_AssignDescriptorsOnce();
  ::google::protobuf::internal::RegisterAllTypes(file_level_metadata, 16);
}

void AddDescriptorsImpl() {
  InitDefaults();
  static const char descriptor[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {
      "\n)tensorflow/compiler/xla/service/hlo.pr"
      "oto\022\003xla\032&tensorflow/compiler/xla/xla_da"
      "ta.proto\"\354\n\n\023HloInstructionProto\022\014\n\004name"
      "\030\001 \001(\t\022\016\n\006opcode\030\002 \001(\t\022\031\n\005shape\030\003 \001(\0132\n."
      "xla.Shape\022!\n\010metadata\030\007 \001(\0132\017.xla.OpMeta"
      "data\022\"\n\007literal\030\010 \001(\0132\021.xla.LiteralProto"
      "\022\030\n\020parameter_number\030\t \001(\003\022\023\n\013fusion_kin"
      "d\030\013 \001(\t\022\023\n\013tuple_index\030\r \001(\003\022\022\n\ndimensio"
      "ns\030\016 \003(\003\022\033\n\006window\030\017 \001(\0132\013.xla.Window\022G\n"
      "\035convolution_dimension_numbers\030\020 \001(\0132 .x"
      "la.ConvolutionDimensionNumbers\022B\n\020slice_"
      "dimensions\030\021 \003(\0132(.xla.HloInstructionPro"
      "to.SliceDimensions\022\025\n\rexponent_bits\030\022 \001("
      "\005\022\025\n\rmantissa_bits\030\023 \001(\005\022\033\n\023dynamic_slic"
      "e_sizes\030\024 \003(\003\022*\n\016padding_config\030\025 \001(\0132\022."
      "xla.PaddingConfig\022\026\n\016outfeed_config\030\026 \001("
      "\014\022-\n\014distribution\030\027 \001(\0162\027.xla.RandomDist"
      "ribution\022\017\n\007epsilon\030\030 \001(\002\022\025\n\rfeature_ind"
      "ex\030\031 \001(\003\022\022\n\nchannel_id\030\032 \001(\003\022\025\n\rinfeed_c"
      "onfig\030\033 \001(\014\022\032\n\022custom_call_target\030\034 \001(\t\022"
      "!\n\routfeed_shape\030\035 \001(\0132\n.xla.Shape\0227\n\025do"
      "t_dimension_numbers\030\036 \001(\0132\030.xla.DotDimen"
      "sionNumbers\022\036\n\010fft_type\030\037 \001(\0162\014.xla.FftT"
      "ype\022\022\n\nfft_length\030  \003(\003\022=\n\030gather_dimens"
      "ion_numbers\030! \001(\0132\033.xla.GatherDimensionN"
      "umbers\022\034\n\024gather_window_bounds\030\" \003(\003\022\024\n\014"
      "channel_name\030) \001(\t\022\030\n\020cost_estimate_ns\030*"
      " \001(\003\022\n\n\002id\030# \001(\003\022\023\n\013operand_ids\030$ \003(\003\022\037\n"
      "\027control_predecessor_ids\030% \003(\003\022\036\n\026called"
      "_computation_ids\030& \003(\003\022\031\n\021replica_group_"
      "ids\030, \003(\003\022!\n\010sharding\030( \001(\0132\017.xla.OpShar"
      "ding\022\026\n\016backend_config\030+ \001(\t\032\?\n\017SliceDim"
      "ensions\022\r\n\005start\030\001 \001(\003\022\r\n\005limit\030\002 \001(\003\022\016\n"
      "\006stride\030\003 \001(\003J\004\010\n\020\013J\004\010\014\020\rJ\004\010\004\020\005J\004\010\005\020\006J\004\010"
      "\006\020\007R\016parameter_nameR\036fused_instructions_"
      "computationR\roperand_namesR\031control_pred"
      "ecessor_namesR\030called_computation_names\""
      "\253\001\n\023HloComputationProto\022\014\n\004name\030\001 \001(\t\022.\n"
      "\014instructions\030\002 \003(\0132\030.xla.HloInstruction"
      "Proto\022(\n\rprogram_shape\030\004 \001(\0132\021.xla.Progr"
      "amShape\022\n\n\002id\030\005 \001(\003\022\017\n\007root_id\030\006 \001(\003J\004\010\003"
      "\020\004R\troot_name\"\302\001\n\016HloModuleProto\022\014\n\004name"
      "\030\001 \001(\t\022\036\n\026entry_computation_name\030\002 \001(\t\022\034"
      "\n\024entry_computation_id\030\006 \001(\003\022.\n\014computat"
      "ions\030\003 \003(\0132\030.xla.HloComputationProto\022(\n\r"
      "program_shape\030\004 \001(\0132\021.xla.ProgramShape\022\n"
      "\n\002id\030\005 \001(\003\"\256\001\n\020HloOrderingProto\022L\n\027seque"
      "ntial_computations\030\001 \003(\0132+.xla.HloOrderi"
      "ngProto.SequentialComputation\032L\n\025Sequent"
      "ialComputation\022\030\n\020computation_name\030\001 \001(\t"
      "\022\031\n\021instruction_names\030\002 \003(\t\"\310\001\n\022LogicalB"
      "ufferProto\022\n\n\002id\030\001 \001(\003\022\014\n\004size\030\002 \001(\003\0224\n\n"
      "defined_at\030\003 \001(\0132 .xla.LogicalBufferProt"
      "o.Location\022\r\n\005color\030\004 \001(\003\032S\n\010Location\022\030\n"
      "\020computation_name\030\001 \001(\t\022\030\n\020instruction_n"
      "ame\030\002 \001(\t\022\023\n\013shape_index\030\003 \003(\003\"\346\002\n\025Buffe"
      "rAllocationProto\022\r\n\005index\030\001 \001(\003\022\014\n\004size\030"
      "\002 \001(\003\022\027\n\017is_thread_local\030\003 \001(\010\022\023\n\013is_reu"
      "sable\030\004 \001(\010\022&\n\036is_entry_computation_para"
      "meter\030\005 \001(\010\022\030\n\020parameter_number\030\006 \001(\003\022\035\n"
      "\025parameter_shape_index\030\n \003(\003\022\026\n\016maybe_li"
      "ve_out\030\007 \001(\010\022\r\n\005color\030\010 \001(\003\0225\n\010assigned\030"
      "\t \003(\0132#.xla.BufferAllocationProto.Assign"
      "ed\032C\n\010Assigned\022\031\n\021logical_buffer_id\030\001 \001("
      "\003\022\016\n\006offset\030\002 \001(\003\022\014\n\004size\030\003 \001(\003\"\265\002\n\022Heap"
      "SimulatorTrace\022-\n\006events\030\001 \003(\0132\035.xla.Hea"
      "pSimulatorTrace.Event\022\037\n\027whole_module_si"
      "mulation\030\002 \001(\010\032\316\001\n\005Event\0220\n\004kind\030\001 \001(\0162\""
      ".xla.HeapSimulatorTrace.Event.Kind\022\021\n\tbu"
      "ffer_id\030\002 \001(\003\022\030\n\020computation_name\030\003 \001(\t\022"
      "\030\n\020instruction_name\030\004 \001(\t\022\037\n\027share_with_"
      "canonical_id\030\005 \001(\003\"+\n\004Kind\022\t\n\005ALLOC\020\000\022\010\n"
      "\004FREE\020\001\022\016\n\nSHARE_WITH\020\002\"\326\002\n\025BufferAssign"
      "mentProto\0220\n\017logical_buffers\030\001 \003(\0132\027.xla"
      ".LogicalBufferProto\022>\n\016buffer_aliases\030\002 "
      "\003(\0132&.xla.BufferAssignmentProto.BufferAl"
      "ias\0226\n\022buffer_allocations\030\003 \003(\0132\032.xla.Bu"
      "fferAllocationProto\0226\n\025heap_simulator_tr"
      "aces\030\004 \003(\0132\027.xla.HeapSimulatorTrace\032[\n\013B"
      "ufferAlias\022\030\n\020source_buffer_id\030\001 \001(\003\0222\n\010"
      "location\030\002 \001(\0132 .xla.LogicalBufferProto."
      "Location\"\227\001\n\010HloProto\022\'\n\nhlo_module\030\001 \001("
      "\0132\023.xla.HloModuleProto\022+\n\014hlo_ordering\030\002"
      " \001(\0132\025.xla.HloOrderingProto\0225\n\021buffer_as"
      "signment\030\003 \001(\0132\032.xla.BufferAssignmentPro"
      "to\"\216\001\n\013HloSnapshot\022\032\n\003hlo\030\001 \001(\0132\r.xla.Hl"
      "oProto\022$\n\targuments\030\002 \003(\0132\021.xla.LiteralP"
      "roto\022!\n\006result\030\003 \001(\0132\021.xla.LiteralProto\022"
      "\032\n\022execution_platform\030\004 \001(\tB\003\370\001\001b\006proto3"
  };
  ::google::protobuf::DescriptorPool::InternalAddGeneratedFile(
      descriptor, 3560);
  ::google::protobuf::MessageFactory::InternalRegisterGeneratedFile(
    "tensorflow/compiler/xla/service/hlo.proto", &protobuf_RegisterTypes);
  ::protobuf_tensorflow_2fcompiler_2fxla_2fxla_5fdata_2eproto::AddDescriptors();
}

void AddDescriptors() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &AddDescriptorsImpl);
}
// Force AddDescriptors() to be called at dynamic initialization time.
struct StaticDescriptorInitializer {
  StaticDescriptorInitializer() {
    AddDescriptors();
  }
} static_descriptor_initializer;
}  // namespace protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto
namespace xla {
const ::google::protobuf::EnumDescriptor* HeapSimulatorTrace_Event_Kind_descriptor() {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_enum_descriptors[0];
}
bool HeapSimulatorTrace_Event_Kind_IsValid(int value) {
  switch (value) {
    case 0:
    case 1:
    case 2:
      return true;
    default:
      return false;
  }
}

#if !defined(_MSC_VER) || _MSC_VER >= 1900
const HeapSimulatorTrace_Event_Kind HeapSimulatorTrace_Event::ALLOC;
const HeapSimulatorTrace_Event_Kind HeapSimulatorTrace_Event::FREE;
const HeapSimulatorTrace_Event_Kind HeapSimulatorTrace_Event::SHARE_WITH;
const HeapSimulatorTrace_Event_Kind HeapSimulatorTrace_Event::Kind_MIN;
const HeapSimulatorTrace_Event_Kind HeapSimulatorTrace_Event::Kind_MAX;
const int HeapSimulatorTrace_Event::Kind_ARRAYSIZE;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

// ===================================================================

void HloInstructionProto_SliceDimensions::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HloInstructionProto_SliceDimensions::kStartFieldNumber;
const int HloInstructionProto_SliceDimensions::kLimitFieldNumber;
const int HloInstructionProto_SliceDimensions::kStrideFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HloInstructionProto_SliceDimensions::HloInstructionProto_SliceDimensions()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloInstructionProto_SliceDimensions();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HloInstructionProto.SliceDimensions)
}
HloInstructionProto_SliceDimensions::HloInstructionProto_SliceDimensions(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloInstructionProto_SliceDimensions();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HloInstructionProto.SliceDimensions)
}
HloInstructionProto_SliceDimensions::HloInstructionProto_SliceDimensions(const HloInstructionProto_SliceDimensions& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::memcpy(&start_, &from.start_,
    static_cast<size_t>(reinterpret_cast<char*>(&stride_) -
    reinterpret_cast<char*>(&start_)) + sizeof(stride_));
  // @@protoc_insertion_point(copy_constructor:xla.HloInstructionProto.SliceDimensions)
}

void HloInstructionProto_SliceDimensions::SharedCtor() {
  ::memset(&start_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&stride_) -
      reinterpret_cast<char*>(&start_)) + sizeof(stride_));
  _cached_size_ = 0;
}

HloInstructionProto_SliceDimensions::~HloInstructionProto_SliceDimensions() {
  // @@protoc_insertion_point(destructor:xla.HloInstructionProto.SliceDimensions)
  SharedDtor();
}

void HloInstructionProto_SliceDimensions::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
}

void HloInstructionProto_SliceDimensions::ArenaDtor(void* object) {
  HloInstructionProto_SliceDimensions* _this = reinterpret_cast< HloInstructionProto_SliceDimensions* >(object);
  (void)_this;
}
void HloInstructionProto_SliceDimensions::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HloInstructionProto_SliceDimensions::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HloInstructionProto_SliceDimensions::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HloInstructionProto_SliceDimensions& HloInstructionProto_SliceDimensions::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloInstructionProto_SliceDimensions();
  return *internal_default_instance();
}


void HloInstructionProto_SliceDimensions::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HloInstructionProto.SliceDimensions)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  ::memset(&start_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&stride_) -
      reinterpret_cast<char*>(&start_)) + sizeof(stride_));
  _internal_metadata_.Clear();
}

bool HloInstructionProto_SliceDimensions::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HloInstructionProto.SliceDimensions)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // int64 start = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(8u /* 8 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &start_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 limit = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(16u /* 16 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &limit_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 stride = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(24u /* 24 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &stride_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HloInstructionProto.SliceDimensions)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HloInstructionProto.SliceDimensions)
  return false;
#undef DO_
}

void HloInstructionProto_SliceDimensions::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HloInstructionProto.SliceDimensions)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 start = 1;
  if (this->start() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(1, this->start(), output);
  }

  // int64 limit = 2;
  if (this->limit() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(2, this->limit(), output);
  }

  // int64 stride = 3;
  if (this->stride() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(3, this->stride(), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HloInstructionProto.SliceDimensions)
}

::google::protobuf::uint8* HloInstructionProto_SliceDimensions::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HloInstructionProto.SliceDimensions)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 start = 1;
  if (this->start() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(1, this->start(), target);
  }

  // int64 limit = 2;
  if (this->limit() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(2, this->limit(), target);
  }

  // int64 stride = 3;
  if (this->stride() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(3, this->stride(), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HloInstructionProto.SliceDimensions)
  return target;
}

size_t HloInstructionProto_SliceDimensions::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HloInstructionProto.SliceDimensions)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // int64 start = 1;
  if (this->start() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->start());
  }

  // int64 limit = 2;
  if (this->limit() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->limit());
  }

  // int64 stride = 3;
  if (this->stride() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->stride());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HloInstructionProto_SliceDimensions::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HloInstructionProto.SliceDimensions)
  GOOGLE_DCHECK_NE(&from, this);
  const HloInstructionProto_SliceDimensions* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HloInstructionProto_SliceDimensions>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HloInstructionProto.SliceDimensions)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HloInstructionProto.SliceDimensions)
    MergeFrom(*source);
  }
}

void HloInstructionProto_SliceDimensions::MergeFrom(const HloInstructionProto_SliceDimensions& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HloInstructionProto.SliceDimensions)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  if (from.start() != 0) {
    set_start(from.start());
  }
  if (from.limit() != 0) {
    set_limit(from.limit());
  }
  if (from.stride() != 0) {
    set_stride(from.stride());
  }
}

void HloInstructionProto_SliceDimensions::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HloInstructionProto.SliceDimensions)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HloInstructionProto_SliceDimensions::CopyFrom(const HloInstructionProto_SliceDimensions& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HloInstructionProto.SliceDimensions)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HloInstructionProto_SliceDimensions::IsInitialized() const {
  return true;
}

void HloInstructionProto_SliceDimensions::Swap(HloInstructionProto_SliceDimensions* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HloInstructionProto_SliceDimensions* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HloInstructionProto_SliceDimensions::UnsafeArenaSwap(HloInstructionProto_SliceDimensions* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HloInstructionProto_SliceDimensions::InternalSwap(HloInstructionProto_SliceDimensions* other) {
  using std::swap;
  swap(start_, other->start_);
  swap(limit_, other->limit_);
  swap(stride_, other->stride_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HloInstructionProto_SliceDimensions::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HloInstructionProto::InitAsDefaultInstance() {
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->shape_ = const_cast< ::xla::Shape*>(
      ::xla::Shape::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->metadata_ = const_cast< ::xla::OpMetadata*>(
      ::xla::OpMetadata::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->literal_ = const_cast< ::xla::LiteralProto*>(
      ::xla::LiteralProto::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->window_ = const_cast< ::xla::Window*>(
      ::xla::Window::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->convolution_dimension_numbers_ = const_cast< ::xla::ConvolutionDimensionNumbers*>(
      ::xla::ConvolutionDimensionNumbers::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->padding_config_ = const_cast< ::xla::PaddingConfig*>(
      ::xla::PaddingConfig::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->outfeed_shape_ = const_cast< ::xla::Shape*>(
      ::xla::Shape::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->dot_dimension_numbers_ = const_cast< ::xla::DotDimensionNumbers*>(
      ::xla::DotDimensionNumbers::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->gather_dimension_numbers_ = const_cast< ::xla::GatherDimensionNumbers*>(
      ::xla::GatherDimensionNumbers::internal_default_instance());
  ::xla::_HloInstructionProto_default_instance_._instance.get_mutable()->sharding_ = const_cast< ::xla::OpSharding*>(
      ::xla::OpSharding::internal_default_instance());
}
void HloInstructionProto::unsafe_arena_set_allocated_shape(
    ::xla::Shape* shape) {
  if (GetArenaNoVirtual() == NULL) {
    delete shape_;
  }
  shape_ = shape;
  if (shape) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.shape)
}
void HloInstructionProto::clear_shape() {
  if (GetArenaNoVirtual() == NULL && shape_ != NULL) {
    delete shape_;
  }
  shape_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_metadata(
    ::xla::OpMetadata* metadata) {
  if (GetArenaNoVirtual() == NULL) {
    delete metadata_;
  }
  metadata_ = metadata;
  if (metadata) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.metadata)
}
void HloInstructionProto::clear_metadata() {
  if (GetArenaNoVirtual() == NULL && metadata_ != NULL) {
    delete metadata_;
  }
  metadata_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_literal(
    ::xla::LiteralProto* literal) {
  if (GetArenaNoVirtual() == NULL) {
    delete literal_;
  }
  literal_ = literal;
  if (literal) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.literal)
}
void HloInstructionProto::clear_literal() {
  if (GetArenaNoVirtual() == NULL && literal_ != NULL) {
    delete literal_;
  }
  literal_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_window(
    ::xla::Window* window) {
  if (GetArenaNoVirtual() == NULL) {
    delete window_;
  }
  window_ = window;
  if (window) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.window)
}
void HloInstructionProto::clear_window() {
  if (GetArenaNoVirtual() == NULL && window_ != NULL) {
    delete window_;
  }
  window_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_convolution_dimension_numbers(
    ::xla::ConvolutionDimensionNumbers* convolution_dimension_numbers) {
  if (GetArenaNoVirtual() == NULL) {
    delete convolution_dimension_numbers_;
  }
  convolution_dimension_numbers_ = convolution_dimension_numbers;
  if (convolution_dimension_numbers) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.convolution_dimension_numbers)
}
void HloInstructionProto::clear_convolution_dimension_numbers() {
  if (GetArenaNoVirtual() == NULL && convolution_dimension_numbers_ != NULL) {
    delete convolution_dimension_numbers_;
  }
  convolution_dimension_numbers_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_padding_config(
    ::xla::PaddingConfig* padding_config) {
  if (GetArenaNoVirtual() == NULL) {
    delete padding_config_;
  }
  padding_config_ = padding_config;
  if (padding_config) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.padding_config)
}
void HloInstructionProto::clear_padding_config() {
  if (GetArenaNoVirtual() == NULL && padding_config_ != NULL) {
    delete padding_config_;
  }
  padding_config_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_outfeed_shape(
    ::xla::Shape* outfeed_shape) {
  if (GetArenaNoVirtual() == NULL) {
    delete outfeed_shape_;
  }
  outfeed_shape_ = outfeed_shape;
  if (outfeed_shape) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.outfeed_shape)
}
void HloInstructionProto::clear_outfeed_shape() {
  if (GetArenaNoVirtual() == NULL && outfeed_shape_ != NULL) {
    delete outfeed_shape_;
  }
  outfeed_shape_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_dot_dimension_numbers(
    ::xla::DotDimensionNumbers* dot_dimension_numbers) {
  if (GetArenaNoVirtual() == NULL) {
    delete dot_dimension_numbers_;
  }
  dot_dimension_numbers_ = dot_dimension_numbers;
  if (dot_dimension_numbers) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.dot_dimension_numbers)
}
void HloInstructionProto::clear_dot_dimension_numbers() {
  if (GetArenaNoVirtual() == NULL && dot_dimension_numbers_ != NULL) {
    delete dot_dimension_numbers_;
  }
  dot_dimension_numbers_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_gather_dimension_numbers(
    ::xla::GatherDimensionNumbers* gather_dimension_numbers) {
  if (GetArenaNoVirtual() == NULL) {
    delete gather_dimension_numbers_;
  }
  gather_dimension_numbers_ = gather_dimension_numbers;
  if (gather_dimension_numbers) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.gather_dimension_numbers)
}
void HloInstructionProto::clear_gather_dimension_numbers() {
  if (GetArenaNoVirtual() == NULL && gather_dimension_numbers_ != NULL) {
    delete gather_dimension_numbers_;
  }
  gather_dimension_numbers_ = NULL;
}
void HloInstructionProto::unsafe_arena_set_allocated_sharding(
    ::xla::OpSharding* sharding) {
  if (GetArenaNoVirtual() == NULL) {
    delete sharding_;
  }
  sharding_ = sharding;
  if (sharding) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloInstructionProto.sharding)
}
void HloInstructionProto::clear_sharding() {
  if (GetArenaNoVirtual() == NULL && sharding_ != NULL) {
    delete sharding_;
  }
  sharding_ = NULL;
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HloInstructionProto::kNameFieldNumber;
const int HloInstructionProto::kOpcodeFieldNumber;
const int HloInstructionProto::kShapeFieldNumber;
const int HloInstructionProto::kMetadataFieldNumber;
const int HloInstructionProto::kLiteralFieldNumber;
const int HloInstructionProto::kParameterNumberFieldNumber;
const int HloInstructionProto::kFusionKindFieldNumber;
const int HloInstructionProto::kTupleIndexFieldNumber;
const int HloInstructionProto::kDimensionsFieldNumber;
const int HloInstructionProto::kWindowFieldNumber;
const int HloInstructionProto::kConvolutionDimensionNumbersFieldNumber;
const int HloInstructionProto::kSliceDimensionsFieldNumber;
const int HloInstructionProto::kExponentBitsFieldNumber;
const int HloInstructionProto::kMantissaBitsFieldNumber;
const int HloInstructionProto::kDynamicSliceSizesFieldNumber;
const int HloInstructionProto::kPaddingConfigFieldNumber;
const int HloInstructionProto::kOutfeedConfigFieldNumber;
const int HloInstructionProto::kDistributionFieldNumber;
const int HloInstructionProto::kEpsilonFieldNumber;
const int HloInstructionProto::kFeatureIndexFieldNumber;
const int HloInstructionProto::kChannelIdFieldNumber;
const int HloInstructionProto::kInfeedConfigFieldNumber;
const int HloInstructionProto::kCustomCallTargetFieldNumber;
const int HloInstructionProto::kOutfeedShapeFieldNumber;
const int HloInstructionProto::kDotDimensionNumbersFieldNumber;
const int HloInstructionProto::kFftTypeFieldNumber;
const int HloInstructionProto::kFftLengthFieldNumber;
const int HloInstructionProto::kGatherDimensionNumbersFieldNumber;
const int HloInstructionProto::kGatherWindowBoundsFieldNumber;
const int HloInstructionProto::kChannelNameFieldNumber;
const int HloInstructionProto::kCostEstimateNsFieldNumber;
const int HloInstructionProto::kIdFieldNumber;
const int HloInstructionProto::kOperandIdsFieldNumber;
const int HloInstructionProto::kControlPredecessorIdsFieldNumber;
const int HloInstructionProto::kCalledComputationIdsFieldNumber;
const int HloInstructionProto::kReplicaGroupIdsFieldNumber;
const int HloInstructionProto::kShardingFieldNumber;
const int HloInstructionProto::kBackendConfigFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HloInstructionProto::HloInstructionProto()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloInstructionProto();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HloInstructionProto)
}
HloInstructionProto::HloInstructionProto(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  dimensions_(arena),
  slice_dimensions_(arena),
  dynamic_slice_sizes_(arena),
  fft_length_(arena),
  gather_window_bounds_(arena),
  operand_ids_(arena),
  control_predecessor_ids_(arena),
  called_computation_ids_(arena),
  replica_group_ids_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloInstructionProto();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HloInstructionProto)
}
HloInstructionProto::HloInstructionProto(const HloInstructionProto& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      dimensions_(from.dimensions_),
      slice_dimensions_(from.slice_dimensions_),
      dynamic_slice_sizes_(from.dynamic_slice_sizes_),
      fft_length_(from.fft_length_),
      gather_window_bounds_(from.gather_window_bounds_),
      operand_ids_(from.operand_ids_),
      control_predecessor_ids_(from.control_predecessor_ids_),
      called_computation_ids_(from.called_computation_ids_),
      replica_group_ids_(from.replica_group_ids_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.name().size() > 0) {
    name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name(),
      GetArenaNoVirtual());
  }
  opcode_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.opcode().size() > 0) {
    opcode_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.opcode(),
      GetArenaNoVirtual());
  }
  fusion_kind_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.fusion_kind().size() > 0) {
    fusion_kind_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.fusion_kind(),
      GetArenaNoVirtual());
  }
  outfeed_config_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.outfeed_config().size() > 0) {
    outfeed_config_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.outfeed_config(),
      GetArenaNoVirtual());
  }
  infeed_config_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.infeed_config().size() > 0) {
    infeed_config_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.infeed_config(),
      GetArenaNoVirtual());
  }
  custom_call_target_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.custom_call_target().size() > 0) {
    custom_call_target_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.custom_call_target(),
      GetArenaNoVirtual());
  }
  channel_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.channel_name().size() > 0) {
    channel_name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.channel_name(),
      GetArenaNoVirtual());
  }
  backend_config_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.backend_config().size() > 0) {
    backend_config_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.backend_config(),
      GetArenaNoVirtual());
  }
  if (from.has_shape()) {
    shape_ = new ::xla::Shape(*from.shape_);
  } else {
    shape_ = NULL;
  }
  if (from.has_metadata()) {
    metadata_ = new ::xla::OpMetadata(*from.metadata_);
  } else {
    metadata_ = NULL;
  }
  if (from.has_literal()) {
    literal_ = new ::xla::LiteralProto(*from.literal_);
  } else {
    literal_ = NULL;
  }
  if (from.has_window()) {
    window_ = new ::xla::Window(*from.window_);
  } else {
    window_ = NULL;
  }
  if (from.has_convolution_dimension_numbers()) {
    convolution_dimension_numbers_ = new ::xla::ConvolutionDimensionNumbers(*from.convolution_dimension_numbers_);
  } else {
    convolution_dimension_numbers_ = NULL;
  }
  if (from.has_padding_config()) {
    padding_config_ = new ::xla::PaddingConfig(*from.padding_config_);
  } else {
    padding_config_ = NULL;
  }
  if (from.has_outfeed_shape()) {
    outfeed_shape_ = new ::xla::Shape(*from.outfeed_shape_);
  } else {
    outfeed_shape_ = NULL;
  }
  if (from.has_dot_dimension_numbers()) {
    dot_dimension_numbers_ = new ::xla::DotDimensionNumbers(*from.dot_dimension_numbers_);
  } else {
    dot_dimension_numbers_ = NULL;
  }
  if (from.has_gather_dimension_numbers()) {
    gather_dimension_numbers_ = new ::xla::GatherDimensionNumbers(*from.gather_dimension_numbers_);
  } else {
    gather_dimension_numbers_ = NULL;
  }
  if (from.has_sharding()) {
    sharding_ = new ::xla::OpSharding(*from.sharding_);
  } else {
    sharding_ = NULL;
  }
  ::memcpy(&parameter_number_, &from.parameter_number_,
    static_cast<size_t>(reinterpret_cast<char*>(&cost_estimate_ns_) -
    reinterpret_cast<char*>(&parameter_number_)) + sizeof(cost_estimate_ns_));
  // @@protoc_insertion_point(copy_constructor:xla.HloInstructionProto)
}

void HloInstructionProto::SharedCtor() {
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  opcode_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  fusion_kind_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  outfeed_config_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  infeed_config_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  custom_call_target_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  channel_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  backend_config_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  ::memset(&shape_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&cost_estimate_ns_) -
      reinterpret_cast<char*>(&shape_)) + sizeof(cost_estimate_ns_));
  _cached_size_ = 0;
}

HloInstructionProto::~HloInstructionProto() {
  // @@protoc_insertion_point(destructor:xla.HloInstructionProto)
  SharedDtor();
}

void HloInstructionProto::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  opcode_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  fusion_kind_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  outfeed_config_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  infeed_config_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  custom_call_target_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  channel_name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  backend_config_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (this != internal_default_instance()) delete shape_;
  if (this != internal_default_instance()) delete metadata_;
  if (this != internal_default_instance()) delete literal_;
  if (this != internal_default_instance()) delete window_;
  if (this != internal_default_instance()) delete convolution_dimension_numbers_;
  if (this != internal_default_instance()) delete padding_config_;
  if (this != internal_default_instance()) delete outfeed_shape_;
  if (this != internal_default_instance()) delete dot_dimension_numbers_;
  if (this != internal_default_instance()) delete gather_dimension_numbers_;
  if (this != internal_default_instance()) delete sharding_;
}

void HloInstructionProto::ArenaDtor(void* object) {
  HloInstructionProto* _this = reinterpret_cast< HloInstructionProto* >(object);
  (void)_this;
}
void HloInstructionProto::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HloInstructionProto::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HloInstructionProto::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HloInstructionProto& HloInstructionProto::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloInstructionProto();
  return *internal_default_instance();
}


void HloInstructionProto::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HloInstructionProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  dimensions_.Clear();
  slice_dimensions_.Clear();
  dynamic_slice_sizes_.Clear();
  fft_length_.Clear();
  gather_window_bounds_.Clear();
  operand_ids_.Clear();
  control_predecessor_ids_.Clear();
  called_computation_ids_.Clear();
  replica_group_ids_.Clear();
  name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  opcode_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  fusion_kind_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  outfeed_config_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  infeed_config_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  custom_call_target_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  channel_name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  backend_config_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  if (GetArenaNoVirtual() == NULL && shape_ != NULL) {
    delete shape_;
  }
  shape_ = NULL;
  if (GetArenaNoVirtual() == NULL && metadata_ != NULL) {
    delete metadata_;
  }
  metadata_ = NULL;
  if (GetArenaNoVirtual() == NULL && literal_ != NULL) {
    delete literal_;
  }
  literal_ = NULL;
  if (GetArenaNoVirtual() == NULL && window_ != NULL) {
    delete window_;
  }
  window_ = NULL;
  if (GetArenaNoVirtual() == NULL && convolution_dimension_numbers_ != NULL) {
    delete convolution_dimension_numbers_;
  }
  convolution_dimension_numbers_ = NULL;
  if (GetArenaNoVirtual() == NULL && padding_config_ != NULL) {
    delete padding_config_;
  }
  padding_config_ = NULL;
  if (GetArenaNoVirtual() == NULL && outfeed_shape_ != NULL) {
    delete outfeed_shape_;
  }
  outfeed_shape_ = NULL;
  if (GetArenaNoVirtual() == NULL && dot_dimension_numbers_ != NULL) {
    delete dot_dimension_numbers_;
  }
  dot_dimension_numbers_ = NULL;
  if (GetArenaNoVirtual() == NULL && gather_dimension_numbers_ != NULL) {
    delete gather_dimension_numbers_;
  }
  gather_dimension_numbers_ = NULL;
  if (GetArenaNoVirtual() == NULL && sharding_ != NULL) {
    delete sharding_;
  }
  sharding_ = NULL;
  ::memset(&parameter_number_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&cost_estimate_ns_) -
      reinterpret_cast<char*>(&parameter_number_)) + sizeof(cost_estimate_ns_));
  _internal_metadata_.Clear();
}

bool HloInstructionProto::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HloInstructionProto)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(16383u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // string name = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->name().data(), static_cast<int>(this->name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloInstructionProto.name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string opcode = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_opcode()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->opcode().data(), static_cast<int>(this->opcode().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloInstructionProto.opcode"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.Shape shape = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u /* 26 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_shape()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.OpMetadata metadata = 7;
      case 7: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(58u /* 58 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_metadata()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.LiteralProto literal = 8;
      case 8: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(66u /* 66 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_literal()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 parameter_number = 9;
      case 9: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(72u /* 72 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &parameter_number_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string fusion_kind = 11;
      case 11: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(90u /* 90 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_fusion_kind()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->fusion_kind().data(), static_cast<int>(this->fusion_kind().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloInstructionProto.fusion_kind"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 tuple_index = 13;
      case 13: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(104u /* 104 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &tuple_index_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 dimensions = 14;
      case 14: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(114u /* 114 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_dimensions())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(112u /* 112 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 1, 114u, input, this->mutable_dimensions())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.Window window = 15;
      case 15: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(122u /* 122 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_window()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;
      case 16: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(130u /* 130 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_convolution_dimension_numbers()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;
      case 17: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(138u /* 138 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_slice_dimensions()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int32 exponent_bits = 18;
      case 18: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(144u /* 144 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int32, ::google::protobuf::internal::WireFormatLite::TYPE_INT32>(
                 input, &exponent_bits_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int32 mantissa_bits = 19;
      case 19: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(152u /* 152 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int32, ::google::protobuf::internal::WireFormatLite::TYPE_INT32>(
                 input, &mantissa_bits_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 dynamic_slice_sizes = 20;
      case 20: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(162u /* 162 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_dynamic_slice_sizes())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(160u /* 160 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 2, 162u, input, this->mutable_dynamic_slice_sizes())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.PaddingConfig padding_config = 21;
      case 21: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(170u /* 170 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_padding_config()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // bytes outfeed_config = 22;
      case 22: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(178u /* 178 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadBytes(
                input, this->mutable_outfeed_config()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.RandomDistribution distribution = 23;
      case 23: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(184u /* 184 & 0xFF */)) {
          int value;
          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   int, ::google::protobuf::internal::WireFormatLite::TYPE_ENUM>(
                 input, &value)));
          set_distribution(static_cast< ::xla::RandomDistribution >(value));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // float epsilon = 24;
      case 24: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(197u /* 197 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   float, ::google::protobuf::internal::WireFormatLite::TYPE_FLOAT>(
                 input, &epsilon_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 feature_index = 25;
      case 25: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(200u /* 200 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &feature_index_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 channel_id = 26;
      case 26: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(208u /* 208 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &channel_id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // bytes infeed_config = 27;
      case 27: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(218u /* 218 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadBytes(
                input, this->mutable_infeed_config()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string custom_call_target = 28;
      case 28: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(226u /* 226 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_custom_call_target()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->custom_call_target().data(), static_cast<int>(this->custom_call_target().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloInstructionProto.custom_call_target"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.Shape outfeed_shape = 29;
      case 29: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(234u /* 234 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_outfeed_shape()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.DotDimensionNumbers dot_dimension_numbers = 30;
      case 30: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(242u /* 242 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_dot_dimension_numbers()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.FftType fft_type = 31;
      case 31: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(248u /* 248 & 0xFF */)) {
          int value;
          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   int, ::google::protobuf::internal::WireFormatLite::TYPE_ENUM>(
                 input, &value)));
          set_fft_type(static_cast< ::xla::FftType >(value));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 fft_length = 32;
      case 32: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(2u /* 258 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_fft_length())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(0u /* 256 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 2, 258u, input, this->mutable_fft_length())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.GatherDimensionNumbers gather_dimension_numbers = 33;
      case 33: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 266 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_gather_dimension_numbers()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 gather_window_bounds = 34;
      case 34: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 274 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_gather_window_bounds())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(16u /* 272 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 2, 274u, input, this->mutable_gather_window_bounds())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 id = 35;
      case 35: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(24u /* 280 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 operand_ids = 36;
      case 36: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(34u /* 290 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_operand_ids())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(32u /* 288 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 2, 290u, input, this->mutable_operand_ids())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 control_predecessor_ids = 37;
      case 37: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(42u /* 298 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_control_predecessor_ids())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(40u /* 296 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 2, 298u, input, this->mutable_control_predecessor_ids())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 called_computation_ids = 38;
      case 38: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(50u /* 306 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_called_computation_ids())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(48u /* 304 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 2, 306u, input, this->mutable_called_computation_ids())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.OpSharding sharding = 40;
      case 40: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(66u /* 322 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_sharding()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string channel_name = 41;
      case 41: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(74u /* 330 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_channel_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->channel_name().data(), static_cast<int>(this->channel_name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloInstructionProto.channel_name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 cost_estimate_ns = 42;
      case 42: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(80u /* 336 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &cost_estimate_ns_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string backend_config = 43;
      case 43: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(90u /* 346 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_backend_config()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->backend_config().data(), static_cast<int>(this->backend_config().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloInstructionProto.backend_config"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 replica_group_ids = 44;
      case 44: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(98u /* 354 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_replica_group_ids())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(96u /* 352 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 2, 354u, input, this->mutable_replica_group_ids())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HloInstructionProto)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HloInstructionProto)
  return false;
#undef DO_
}

void HloInstructionProto::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HloInstructionProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string name = 1;
  if (this->name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->name().data(), static_cast<int>(this->name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->name(), output);
  }

  // string opcode = 2;
  if (this->opcode().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->opcode().data(), static_cast<int>(this->opcode().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.opcode");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      2, this->opcode(), output);
  }

  // .xla.Shape shape = 3;
  if (this->has_shape()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      3, *shape_, output);
  }

  // .xla.OpMetadata metadata = 7;
  if (this->has_metadata()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      7, *metadata_, output);
  }

  // .xla.LiteralProto literal = 8;
  if (this->has_literal()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      8, *literal_, output);
  }

  // int64 parameter_number = 9;
  if (this->parameter_number() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(9, this->parameter_number(), output);
  }

  // string fusion_kind = 11;
  if (this->fusion_kind().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->fusion_kind().data(), static_cast<int>(this->fusion_kind().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.fusion_kind");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      11, this->fusion_kind(), output);
  }

  // int64 tuple_index = 13;
  if (this->tuple_index() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(13, this->tuple_index(), output);
  }

  // repeated int64 dimensions = 14;
  if (this->dimensions_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(14, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _dimensions_cached_byte_size_));
  }
  for (int i = 0, n = this->dimensions_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->dimensions(i), output);
  }

  // .xla.Window window = 15;
  if (this->has_window()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      15, *window_, output);
  }

  // .xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;
  if (this->has_convolution_dimension_numbers()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      16, *convolution_dimension_numbers_, output);
  }

  // repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->slice_dimensions_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      17,
      this->slice_dimensions(static_cast<int>(i)),
      output);
  }

  // int32 exponent_bits = 18;
  if (this->exponent_bits() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt32(18, this->exponent_bits(), output);
  }

  // int32 mantissa_bits = 19;
  if (this->mantissa_bits() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt32(19, this->mantissa_bits(), output);
  }

  // repeated int64 dynamic_slice_sizes = 20;
  if (this->dynamic_slice_sizes_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(20, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _dynamic_slice_sizes_cached_byte_size_));
  }
  for (int i = 0, n = this->dynamic_slice_sizes_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->dynamic_slice_sizes(i), output);
  }

  // .xla.PaddingConfig padding_config = 21;
  if (this->has_padding_config()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      21, *padding_config_, output);
  }

  // bytes outfeed_config = 22;
  if (this->outfeed_config().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteBytesMaybeAliased(
      22, this->outfeed_config(), output);
  }

  // .xla.RandomDistribution distribution = 23;
  if (this->distribution() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteEnum(
      23, this->distribution(), output);
  }

  // float epsilon = 24;
  if (this->epsilon() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteFloat(24, this->epsilon(), output);
  }

  // int64 feature_index = 25;
  if (this->feature_index() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(25, this->feature_index(), output);
  }

  // int64 channel_id = 26;
  if (this->channel_id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(26, this->channel_id(), output);
  }

  // bytes infeed_config = 27;
  if (this->infeed_config().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteBytesMaybeAliased(
      27, this->infeed_config(), output);
  }

  // string custom_call_target = 28;
  if (this->custom_call_target().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->custom_call_target().data(), static_cast<int>(this->custom_call_target().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.custom_call_target");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      28, this->custom_call_target(), output);
  }

  // .xla.Shape outfeed_shape = 29;
  if (this->has_outfeed_shape()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      29, *outfeed_shape_, output);
  }

  // .xla.DotDimensionNumbers dot_dimension_numbers = 30;
  if (this->has_dot_dimension_numbers()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      30, *dot_dimension_numbers_, output);
  }

  // .xla.FftType fft_type = 31;
  if (this->fft_type() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteEnum(
      31, this->fft_type(), output);
  }

  // repeated int64 fft_length = 32;
  if (this->fft_length_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(32, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _fft_length_cached_byte_size_));
  }
  for (int i = 0, n = this->fft_length_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->fft_length(i), output);
  }

  // .xla.GatherDimensionNumbers gather_dimension_numbers = 33;
  if (this->has_gather_dimension_numbers()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      33, *gather_dimension_numbers_, output);
  }

  // repeated int64 gather_window_bounds = 34;
  if (this->gather_window_bounds_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(34, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _gather_window_bounds_cached_byte_size_));
  }
  for (int i = 0, n = this->gather_window_bounds_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->gather_window_bounds(i), output);
  }

  // int64 id = 35;
  if (this->id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(35, this->id(), output);
  }

  // repeated int64 operand_ids = 36;
  if (this->operand_ids_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(36, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _operand_ids_cached_byte_size_));
  }
  for (int i = 0, n = this->operand_ids_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->operand_ids(i), output);
  }

  // repeated int64 control_predecessor_ids = 37;
  if (this->control_predecessor_ids_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(37, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _control_predecessor_ids_cached_byte_size_));
  }
  for (int i = 0, n = this->control_predecessor_ids_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->control_predecessor_ids(i), output);
  }

  // repeated int64 called_computation_ids = 38;
  if (this->called_computation_ids_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(38, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _called_computation_ids_cached_byte_size_));
  }
  for (int i = 0, n = this->called_computation_ids_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->called_computation_ids(i), output);
  }

  // .xla.OpSharding sharding = 40;
  if (this->has_sharding()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      40, *sharding_, output);
  }

  // string channel_name = 41;
  if (this->channel_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->channel_name().data(), static_cast<int>(this->channel_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.channel_name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      41, this->channel_name(), output);
  }

  // int64 cost_estimate_ns = 42;
  if (this->cost_estimate_ns() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(42, this->cost_estimate_ns(), output);
  }

  // string backend_config = 43;
  if (this->backend_config().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->backend_config().data(), static_cast<int>(this->backend_config().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.backend_config");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      43, this->backend_config(), output);
  }

  // repeated int64 replica_group_ids = 44;
  if (this->replica_group_ids_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(44, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _replica_group_ids_cached_byte_size_));
  }
  for (int i = 0, n = this->replica_group_ids_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->replica_group_ids(i), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HloInstructionProto)
}

::google::protobuf::uint8* HloInstructionProto::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HloInstructionProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string name = 1;
  if (this->name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->name().data(), static_cast<int>(this->name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->name(), target);
  }

  // string opcode = 2;
  if (this->opcode().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->opcode().data(), static_cast<int>(this->opcode().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.opcode");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        2, this->opcode(), target);
  }

  // .xla.Shape shape = 3;
  if (this->has_shape()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        3, *shape_, deterministic, target);
  }

  // .xla.OpMetadata metadata = 7;
  if (this->has_metadata()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        7, *metadata_, deterministic, target);
  }

  // .xla.LiteralProto literal = 8;
  if (this->has_literal()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        8, *literal_, deterministic, target);
  }

  // int64 parameter_number = 9;
  if (this->parameter_number() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(9, this->parameter_number(), target);
  }

  // string fusion_kind = 11;
  if (this->fusion_kind().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->fusion_kind().data(), static_cast<int>(this->fusion_kind().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.fusion_kind");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        11, this->fusion_kind(), target);
  }

  // int64 tuple_index = 13;
  if (this->tuple_index() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(13, this->tuple_index(), target);
  }

  // repeated int64 dimensions = 14;
  if (this->dimensions_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      14,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _dimensions_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->dimensions_, target);
  }

  // .xla.Window window = 15;
  if (this->has_window()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        15, *window_, deterministic, target);
  }

  // .xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;
  if (this->has_convolution_dimension_numbers()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        16, *convolution_dimension_numbers_, deterministic, target);
  }

  // repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->slice_dimensions_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        17, this->slice_dimensions(static_cast<int>(i)), deterministic, target);
  }

  // int32 exponent_bits = 18;
  if (this->exponent_bits() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt32ToArray(18, this->exponent_bits(), target);
  }

  // int32 mantissa_bits = 19;
  if (this->mantissa_bits() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt32ToArray(19, this->mantissa_bits(), target);
  }

  // repeated int64 dynamic_slice_sizes = 20;
  if (this->dynamic_slice_sizes_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      20,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _dynamic_slice_sizes_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->dynamic_slice_sizes_, target);
  }

  // .xla.PaddingConfig padding_config = 21;
  if (this->has_padding_config()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        21, *padding_config_, deterministic, target);
  }

  // bytes outfeed_config = 22;
  if (this->outfeed_config().size() > 0) {
    target =
      ::google::protobuf::internal::WireFormatLite::WriteBytesToArray(
        22, this->outfeed_config(), target);
  }

  // .xla.RandomDistribution distribution = 23;
  if (this->distribution() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteEnumToArray(
      23, this->distribution(), target);
  }

  // float epsilon = 24;
  if (this->epsilon() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteFloatToArray(24, this->epsilon(), target);
  }

  // int64 feature_index = 25;
  if (this->feature_index() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(25, this->feature_index(), target);
  }

  // int64 channel_id = 26;
  if (this->channel_id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(26, this->channel_id(), target);
  }

  // bytes infeed_config = 27;
  if (this->infeed_config().size() > 0) {
    target =
      ::google::protobuf::internal::WireFormatLite::WriteBytesToArray(
        27, this->infeed_config(), target);
  }

  // string custom_call_target = 28;
  if (this->custom_call_target().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->custom_call_target().data(), static_cast<int>(this->custom_call_target().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.custom_call_target");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        28, this->custom_call_target(), target);
  }

  // .xla.Shape outfeed_shape = 29;
  if (this->has_outfeed_shape()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        29, *outfeed_shape_, deterministic, target);
  }

  // .xla.DotDimensionNumbers dot_dimension_numbers = 30;
  if (this->has_dot_dimension_numbers()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        30, *dot_dimension_numbers_, deterministic, target);
  }

  // .xla.FftType fft_type = 31;
  if (this->fft_type() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteEnumToArray(
      31, this->fft_type(), target);
  }

  // repeated int64 fft_length = 32;
  if (this->fft_length_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      32,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _fft_length_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->fft_length_, target);
  }

  // .xla.GatherDimensionNumbers gather_dimension_numbers = 33;
  if (this->has_gather_dimension_numbers()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        33, *gather_dimension_numbers_, deterministic, target);
  }

  // repeated int64 gather_window_bounds = 34;
  if (this->gather_window_bounds_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      34,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _gather_window_bounds_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->gather_window_bounds_, target);
  }

  // int64 id = 35;
  if (this->id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(35, this->id(), target);
  }

  // repeated int64 operand_ids = 36;
  if (this->operand_ids_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      36,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _operand_ids_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->operand_ids_, target);
  }

  // repeated int64 control_predecessor_ids = 37;
  if (this->control_predecessor_ids_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      37,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _control_predecessor_ids_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->control_predecessor_ids_, target);
  }

  // repeated int64 called_computation_ids = 38;
  if (this->called_computation_ids_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      38,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _called_computation_ids_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->called_computation_ids_, target);
  }

  // .xla.OpSharding sharding = 40;
  if (this->has_sharding()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        40, *sharding_, deterministic, target);
  }

  // string channel_name = 41;
  if (this->channel_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->channel_name().data(), static_cast<int>(this->channel_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.channel_name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        41, this->channel_name(), target);
  }

  // int64 cost_estimate_ns = 42;
  if (this->cost_estimate_ns() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(42, this->cost_estimate_ns(), target);
  }

  // string backend_config = 43;
  if (this->backend_config().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->backend_config().data(), static_cast<int>(this->backend_config().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloInstructionProto.backend_config");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        43, this->backend_config(), target);
  }

  // repeated int64 replica_group_ids = 44;
  if (this->replica_group_ids_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      44,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _replica_group_ids_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->replica_group_ids_, target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HloInstructionProto)
  return target;
}

size_t HloInstructionProto::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HloInstructionProto)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated int64 dimensions = 14;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->dimensions_);
    if (data_size > 0) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _dimensions_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // repeated .xla.HloInstructionProto.SliceDimensions slice_dimensions = 17;
  {
    unsigned int count = static_cast<unsigned int>(this->slice_dimensions_size());
    total_size += 2UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->slice_dimensions(static_cast<int>(i)));
    }
  }

  // repeated int64 dynamic_slice_sizes = 20;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->dynamic_slice_sizes_);
    if (data_size > 0) {
      total_size += 2 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _dynamic_slice_sizes_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // repeated int64 fft_length = 32;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->fft_length_);
    if (data_size > 0) {
      total_size += 2 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _fft_length_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // repeated int64 gather_window_bounds = 34;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->gather_window_bounds_);
    if (data_size > 0) {
      total_size += 2 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _gather_window_bounds_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // repeated int64 operand_ids = 36;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->operand_ids_);
    if (data_size > 0) {
      total_size += 2 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _operand_ids_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // repeated int64 control_predecessor_ids = 37;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->control_predecessor_ids_);
    if (data_size > 0) {
      total_size += 2 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _control_predecessor_ids_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // repeated int64 called_computation_ids = 38;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->called_computation_ids_);
    if (data_size > 0) {
      total_size += 2 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _called_computation_ids_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // repeated int64 replica_group_ids = 44;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->replica_group_ids_);
    if (data_size > 0) {
      total_size += 2 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _replica_group_ids_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // string name = 1;
  if (this->name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->name());
  }

  // string opcode = 2;
  if (this->opcode().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->opcode());
  }

  // string fusion_kind = 11;
  if (this->fusion_kind().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->fusion_kind());
  }

  // bytes outfeed_config = 22;
  if (this->outfeed_config().size() > 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::BytesSize(
        this->outfeed_config());
  }

  // bytes infeed_config = 27;
  if (this->infeed_config().size() > 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::BytesSize(
        this->infeed_config());
  }

  // string custom_call_target = 28;
  if (this->custom_call_target().size() > 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->custom_call_target());
  }

  // string channel_name = 41;
  if (this->channel_name().size() > 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->channel_name());
  }

  // string backend_config = 43;
  if (this->backend_config().size() > 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->backend_config());
  }

  // .xla.Shape shape = 3;
  if (this->has_shape()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *shape_);
  }

  // .xla.OpMetadata metadata = 7;
  if (this->has_metadata()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *metadata_);
  }

  // .xla.LiteralProto literal = 8;
  if (this->has_literal()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *literal_);
  }

  // .xla.Window window = 15;
  if (this->has_window()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *window_);
  }

  // .xla.ConvolutionDimensionNumbers convolution_dimension_numbers = 16;
  if (this->has_convolution_dimension_numbers()) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *convolution_dimension_numbers_);
  }

  // .xla.PaddingConfig padding_config = 21;
  if (this->has_padding_config()) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *padding_config_);
  }

  // .xla.Shape outfeed_shape = 29;
  if (this->has_outfeed_shape()) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *outfeed_shape_);
  }

  // .xla.DotDimensionNumbers dot_dimension_numbers = 30;
  if (this->has_dot_dimension_numbers()) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *dot_dimension_numbers_);
  }

  // .xla.GatherDimensionNumbers gather_dimension_numbers = 33;
  if (this->has_gather_dimension_numbers()) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *gather_dimension_numbers_);
  }

  // .xla.OpSharding sharding = 40;
  if (this->has_sharding()) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *sharding_);
  }

  // int64 parameter_number = 9;
  if (this->parameter_number() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->parameter_number());
  }

  // int64 tuple_index = 13;
  if (this->tuple_index() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->tuple_index());
  }

  // int32 exponent_bits = 18;
  if (this->exponent_bits() != 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::Int32Size(
        this->exponent_bits());
  }

  // int32 mantissa_bits = 19;
  if (this->mantissa_bits() != 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::Int32Size(
        this->mantissa_bits());
  }

  // .xla.RandomDistribution distribution = 23;
  if (this->distribution() != 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::EnumSize(this->distribution());
  }

  // float epsilon = 24;
  if (this->epsilon() != 0) {
    total_size += 2 + 4;
  }

  // int64 feature_index = 25;
  if (this->feature_index() != 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->feature_index());
  }

  // int64 channel_id = 26;
  if (this->channel_id() != 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->channel_id());
  }

  // int64 id = 35;
  if (this->id() != 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->id());
  }

  // .xla.FftType fft_type = 31;
  if (this->fft_type() != 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::EnumSize(this->fft_type());
  }

  // int64 cost_estimate_ns = 42;
  if (this->cost_estimate_ns() != 0) {
    total_size += 2 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->cost_estimate_ns());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HloInstructionProto::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HloInstructionProto)
  GOOGLE_DCHECK_NE(&from, this);
  const HloInstructionProto* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HloInstructionProto>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HloInstructionProto)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HloInstructionProto)
    MergeFrom(*source);
  }
}

void HloInstructionProto::MergeFrom(const HloInstructionProto& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HloInstructionProto)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  dimensions_.MergeFrom(from.dimensions_);
  slice_dimensions_.MergeFrom(from.slice_dimensions_);
  dynamic_slice_sizes_.MergeFrom(from.dynamic_slice_sizes_);
  fft_length_.MergeFrom(from.fft_length_);
  gather_window_bounds_.MergeFrom(from.gather_window_bounds_);
  operand_ids_.MergeFrom(from.operand_ids_);
  control_predecessor_ids_.MergeFrom(from.control_predecessor_ids_);
  called_computation_ids_.MergeFrom(from.called_computation_ids_);
  replica_group_ids_.MergeFrom(from.replica_group_ids_);
  if (from.name().size() > 0) {
    set_name(from.name());
  }
  if (from.opcode().size() > 0) {
    set_opcode(from.opcode());
  }
  if (from.fusion_kind().size() > 0) {
    set_fusion_kind(from.fusion_kind());
  }
  if (from.outfeed_config().size() > 0) {
    set_outfeed_config(from.outfeed_config());
  }
  if (from.infeed_config().size() > 0) {
    set_infeed_config(from.infeed_config());
  }
  if (from.custom_call_target().size() > 0) {
    set_custom_call_target(from.custom_call_target());
  }
  if (from.channel_name().size() > 0) {
    set_channel_name(from.channel_name());
  }
  if (from.backend_config().size() > 0) {
    set_backend_config(from.backend_config());
  }
  if (from.has_shape()) {
    mutable_shape()->::xla::Shape::MergeFrom(from.shape());
  }
  if (from.has_metadata()) {
    mutable_metadata()->::xla::OpMetadata::MergeFrom(from.metadata());
  }
  if (from.has_literal()) {
    mutable_literal()->::xla::LiteralProto::MergeFrom(from.literal());
  }
  if (from.has_window()) {
    mutable_window()->::xla::Window::MergeFrom(from.window());
  }
  if (from.has_convolution_dimension_numbers()) {
    mutable_convolution_dimension_numbers()->::xla::ConvolutionDimensionNumbers::MergeFrom(from.convolution_dimension_numbers());
  }
  if (from.has_padding_config()) {
    mutable_padding_config()->::xla::PaddingConfig::MergeFrom(from.padding_config());
  }
  if (from.has_outfeed_shape()) {
    mutable_outfeed_shape()->::xla::Shape::MergeFrom(from.outfeed_shape());
  }
  if (from.has_dot_dimension_numbers()) {
    mutable_dot_dimension_numbers()->::xla::DotDimensionNumbers::MergeFrom(from.dot_dimension_numbers());
  }
  if (from.has_gather_dimension_numbers()) {
    mutable_gather_dimension_numbers()->::xla::GatherDimensionNumbers::MergeFrom(from.gather_dimension_numbers());
  }
  if (from.has_sharding()) {
    mutable_sharding()->::xla::OpSharding::MergeFrom(from.sharding());
  }
  if (from.parameter_number() != 0) {
    set_parameter_number(from.parameter_number());
  }
  if (from.tuple_index() != 0) {
    set_tuple_index(from.tuple_index());
  }
  if (from.exponent_bits() != 0) {
    set_exponent_bits(from.exponent_bits());
  }
  if (from.mantissa_bits() != 0) {
    set_mantissa_bits(from.mantissa_bits());
  }
  if (from.distribution() != 0) {
    set_distribution(from.distribution());
  }
  if (from.epsilon() != 0) {
    set_epsilon(from.epsilon());
  }
  if (from.feature_index() != 0) {
    set_feature_index(from.feature_index());
  }
  if (from.channel_id() != 0) {
    set_channel_id(from.channel_id());
  }
  if (from.id() != 0) {
    set_id(from.id());
  }
  if (from.fft_type() != 0) {
    set_fft_type(from.fft_type());
  }
  if (from.cost_estimate_ns() != 0) {
    set_cost_estimate_ns(from.cost_estimate_ns());
  }
}

void HloInstructionProto::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HloInstructionProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HloInstructionProto::CopyFrom(const HloInstructionProto& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HloInstructionProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HloInstructionProto::IsInitialized() const {
  return true;
}

void HloInstructionProto::Swap(HloInstructionProto* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HloInstructionProto* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HloInstructionProto::UnsafeArenaSwap(HloInstructionProto* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HloInstructionProto::InternalSwap(HloInstructionProto* other) {
  using std::swap;
  dimensions_.InternalSwap(&other->dimensions_);
  CastToBase(&slice_dimensions_)->InternalSwap(CastToBase(&other->slice_dimensions_));
  dynamic_slice_sizes_.InternalSwap(&other->dynamic_slice_sizes_);
  fft_length_.InternalSwap(&other->fft_length_);
  gather_window_bounds_.InternalSwap(&other->gather_window_bounds_);
  operand_ids_.InternalSwap(&other->operand_ids_);
  control_predecessor_ids_.InternalSwap(&other->control_predecessor_ids_);
  called_computation_ids_.InternalSwap(&other->called_computation_ids_);
  replica_group_ids_.InternalSwap(&other->replica_group_ids_);
  name_.Swap(&other->name_);
  opcode_.Swap(&other->opcode_);
  fusion_kind_.Swap(&other->fusion_kind_);
  outfeed_config_.Swap(&other->outfeed_config_);
  infeed_config_.Swap(&other->infeed_config_);
  custom_call_target_.Swap(&other->custom_call_target_);
  channel_name_.Swap(&other->channel_name_);
  backend_config_.Swap(&other->backend_config_);
  swap(shape_, other->shape_);
  swap(metadata_, other->metadata_);
  swap(literal_, other->literal_);
  swap(window_, other->window_);
  swap(convolution_dimension_numbers_, other->convolution_dimension_numbers_);
  swap(padding_config_, other->padding_config_);
  swap(outfeed_shape_, other->outfeed_shape_);
  swap(dot_dimension_numbers_, other->dot_dimension_numbers_);
  swap(gather_dimension_numbers_, other->gather_dimension_numbers_);
  swap(sharding_, other->sharding_);
  swap(parameter_number_, other->parameter_number_);
  swap(tuple_index_, other->tuple_index_);
  swap(exponent_bits_, other->exponent_bits_);
  swap(mantissa_bits_, other->mantissa_bits_);
  swap(distribution_, other->distribution_);
  swap(epsilon_, other->epsilon_);
  swap(feature_index_, other->feature_index_);
  swap(channel_id_, other->channel_id_);
  swap(id_, other->id_);
  swap(fft_type_, other->fft_type_);
  swap(cost_estimate_ns_, other->cost_estimate_ns_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HloInstructionProto::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HloComputationProto::InitAsDefaultInstance() {
  ::xla::_HloComputationProto_default_instance_._instance.get_mutable()->program_shape_ = const_cast< ::xla::ProgramShape*>(
      ::xla::ProgramShape::internal_default_instance());
}
void HloComputationProto::unsafe_arena_set_allocated_program_shape(
    ::xla::ProgramShape* program_shape) {
  if (GetArenaNoVirtual() == NULL) {
    delete program_shape_;
  }
  program_shape_ = program_shape;
  if (program_shape) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloComputationProto.program_shape)
}
void HloComputationProto::clear_program_shape() {
  if (GetArenaNoVirtual() == NULL && program_shape_ != NULL) {
    delete program_shape_;
  }
  program_shape_ = NULL;
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HloComputationProto::kNameFieldNumber;
const int HloComputationProto::kInstructionsFieldNumber;
const int HloComputationProto::kProgramShapeFieldNumber;
const int HloComputationProto::kIdFieldNumber;
const int HloComputationProto::kRootIdFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HloComputationProto::HloComputationProto()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloComputationProto();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HloComputationProto)
}
HloComputationProto::HloComputationProto(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  instructions_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloComputationProto();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HloComputationProto)
}
HloComputationProto::HloComputationProto(const HloComputationProto& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      instructions_(from.instructions_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.name().size() > 0) {
    name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name(),
      GetArenaNoVirtual());
  }
  if (from.has_program_shape()) {
    program_shape_ = new ::xla::ProgramShape(*from.program_shape_);
  } else {
    program_shape_ = NULL;
  }
  ::memcpy(&id_, &from.id_,
    static_cast<size_t>(reinterpret_cast<char*>(&root_id_) -
    reinterpret_cast<char*>(&id_)) + sizeof(root_id_));
  // @@protoc_insertion_point(copy_constructor:xla.HloComputationProto)
}

void HloComputationProto::SharedCtor() {
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  ::memset(&program_shape_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&root_id_) -
      reinterpret_cast<char*>(&program_shape_)) + sizeof(root_id_));
  _cached_size_ = 0;
}

HloComputationProto::~HloComputationProto() {
  // @@protoc_insertion_point(destructor:xla.HloComputationProto)
  SharedDtor();
}

void HloComputationProto::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (this != internal_default_instance()) delete program_shape_;
}

void HloComputationProto::ArenaDtor(void* object) {
  HloComputationProto* _this = reinterpret_cast< HloComputationProto* >(object);
  (void)_this;
}
void HloComputationProto::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HloComputationProto::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HloComputationProto::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HloComputationProto& HloComputationProto::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloComputationProto();
  return *internal_default_instance();
}


void HloComputationProto::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HloComputationProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  instructions_.Clear();
  name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  if (GetArenaNoVirtual() == NULL && program_shape_ != NULL) {
    delete program_shape_;
  }
  program_shape_ = NULL;
  ::memset(&id_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&root_id_) -
      reinterpret_cast<char*>(&id_)) + sizeof(root_id_));
  _internal_metadata_.Clear();
}

bool HloComputationProto::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HloComputationProto)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // string name = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->name().data(), static_cast<int>(this->name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloComputationProto.name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .xla.HloInstructionProto instructions = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_instructions()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.ProgramShape program_shape = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(34u /* 34 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_program_shape()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 id = 5;
      case 5: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(40u /* 40 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 root_id = 6;
      case 6: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(48u /* 48 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &root_id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HloComputationProto)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HloComputationProto)
  return false;
#undef DO_
}

void HloComputationProto::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HloComputationProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string name = 1;
  if (this->name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->name().data(), static_cast<int>(this->name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloComputationProto.name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->name(), output);
  }

  // repeated .xla.HloInstructionProto instructions = 2;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->instructions_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      2,
      this->instructions(static_cast<int>(i)),
      output);
  }

  // .xla.ProgramShape program_shape = 4;
  if (this->has_program_shape()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      4, *program_shape_, output);
  }

  // int64 id = 5;
  if (this->id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(5, this->id(), output);
  }

  // int64 root_id = 6;
  if (this->root_id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(6, this->root_id(), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HloComputationProto)
}

::google::protobuf::uint8* HloComputationProto::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HloComputationProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string name = 1;
  if (this->name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->name().data(), static_cast<int>(this->name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloComputationProto.name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->name(), target);
  }

  // repeated .xla.HloInstructionProto instructions = 2;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->instructions_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        2, this->instructions(static_cast<int>(i)), deterministic, target);
  }

  // .xla.ProgramShape program_shape = 4;
  if (this->has_program_shape()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        4, *program_shape_, deterministic, target);
  }

  // int64 id = 5;
  if (this->id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(5, this->id(), target);
  }

  // int64 root_id = 6;
  if (this->root_id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(6, this->root_id(), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HloComputationProto)
  return target;
}

size_t HloComputationProto::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HloComputationProto)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated .xla.HloInstructionProto instructions = 2;
  {
    unsigned int count = static_cast<unsigned int>(this->instructions_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->instructions(static_cast<int>(i)));
    }
  }

  // string name = 1;
  if (this->name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->name());
  }

  // .xla.ProgramShape program_shape = 4;
  if (this->has_program_shape()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *program_shape_);
  }

  // int64 id = 5;
  if (this->id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->id());
  }

  // int64 root_id = 6;
  if (this->root_id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->root_id());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HloComputationProto::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HloComputationProto)
  GOOGLE_DCHECK_NE(&from, this);
  const HloComputationProto* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HloComputationProto>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HloComputationProto)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HloComputationProto)
    MergeFrom(*source);
  }
}

void HloComputationProto::MergeFrom(const HloComputationProto& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HloComputationProto)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  instructions_.MergeFrom(from.instructions_);
  if (from.name().size() > 0) {
    set_name(from.name());
  }
  if (from.has_program_shape()) {
    mutable_program_shape()->::xla::ProgramShape::MergeFrom(from.program_shape());
  }
  if (from.id() != 0) {
    set_id(from.id());
  }
  if (from.root_id() != 0) {
    set_root_id(from.root_id());
  }
}

void HloComputationProto::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HloComputationProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HloComputationProto::CopyFrom(const HloComputationProto& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HloComputationProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HloComputationProto::IsInitialized() const {
  return true;
}

void HloComputationProto::Swap(HloComputationProto* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HloComputationProto* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HloComputationProto::UnsafeArenaSwap(HloComputationProto* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HloComputationProto::InternalSwap(HloComputationProto* other) {
  using std::swap;
  CastToBase(&instructions_)->InternalSwap(CastToBase(&other->instructions_));
  name_.Swap(&other->name_);
  swap(program_shape_, other->program_shape_);
  swap(id_, other->id_);
  swap(root_id_, other->root_id_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HloComputationProto::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HloModuleProto::InitAsDefaultInstance() {
  ::xla::_HloModuleProto_default_instance_._instance.get_mutable()->program_shape_ = const_cast< ::xla::ProgramShape*>(
      ::xla::ProgramShape::internal_default_instance());
}
void HloModuleProto::unsafe_arena_set_allocated_program_shape(
    ::xla::ProgramShape* program_shape) {
  if (GetArenaNoVirtual() == NULL) {
    delete program_shape_;
  }
  program_shape_ = program_shape;
  if (program_shape) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloModuleProto.program_shape)
}
void HloModuleProto::clear_program_shape() {
  if (GetArenaNoVirtual() == NULL && program_shape_ != NULL) {
    delete program_shape_;
  }
  program_shape_ = NULL;
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HloModuleProto::kNameFieldNumber;
const int HloModuleProto::kEntryComputationNameFieldNumber;
const int HloModuleProto::kEntryComputationIdFieldNumber;
const int HloModuleProto::kComputationsFieldNumber;
const int HloModuleProto::kProgramShapeFieldNumber;
const int HloModuleProto::kIdFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HloModuleProto::HloModuleProto()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloModuleProto();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HloModuleProto)
}
HloModuleProto::HloModuleProto(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  computations_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloModuleProto();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HloModuleProto)
}
HloModuleProto::HloModuleProto(const HloModuleProto& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      computations_(from.computations_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.name().size() > 0) {
    name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name(),
      GetArenaNoVirtual());
  }
  entry_computation_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.entry_computation_name().size() > 0) {
    entry_computation_name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.entry_computation_name(),
      GetArenaNoVirtual());
  }
  if (from.has_program_shape()) {
    program_shape_ = new ::xla::ProgramShape(*from.program_shape_);
  } else {
    program_shape_ = NULL;
  }
  ::memcpy(&id_, &from.id_,
    static_cast<size_t>(reinterpret_cast<char*>(&entry_computation_id_) -
    reinterpret_cast<char*>(&id_)) + sizeof(entry_computation_id_));
  // @@protoc_insertion_point(copy_constructor:xla.HloModuleProto)
}

void HloModuleProto::SharedCtor() {
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  entry_computation_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  ::memset(&program_shape_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&entry_computation_id_) -
      reinterpret_cast<char*>(&program_shape_)) + sizeof(entry_computation_id_));
  _cached_size_ = 0;
}

HloModuleProto::~HloModuleProto() {
  // @@protoc_insertion_point(destructor:xla.HloModuleProto)
  SharedDtor();
}

void HloModuleProto::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  entry_computation_name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (this != internal_default_instance()) delete program_shape_;
}

void HloModuleProto::ArenaDtor(void* object) {
  HloModuleProto* _this = reinterpret_cast< HloModuleProto* >(object);
  (void)_this;
}
void HloModuleProto::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HloModuleProto::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HloModuleProto::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HloModuleProto& HloModuleProto::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloModuleProto();
  return *internal_default_instance();
}


void HloModuleProto::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HloModuleProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  computations_.Clear();
  name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  entry_computation_name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  if (GetArenaNoVirtual() == NULL && program_shape_ != NULL) {
    delete program_shape_;
  }
  program_shape_ = NULL;
  ::memset(&id_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&entry_computation_id_) -
      reinterpret_cast<char*>(&id_)) + sizeof(entry_computation_id_));
  _internal_metadata_.Clear();
}

bool HloModuleProto::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HloModuleProto)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // string name = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->name().data(), static_cast<int>(this->name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloModuleProto.name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string entry_computation_name = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_entry_computation_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->entry_computation_name().data(), static_cast<int>(this->entry_computation_name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloModuleProto.entry_computation_name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .xla.HloComputationProto computations = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u /* 26 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_computations()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.ProgramShape program_shape = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(34u /* 34 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_program_shape()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 id = 5;
      case 5: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(40u /* 40 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 entry_computation_id = 6;
      case 6: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(48u /* 48 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &entry_computation_id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HloModuleProto)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HloModuleProto)
  return false;
#undef DO_
}

void HloModuleProto::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HloModuleProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string name = 1;
  if (this->name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->name().data(), static_cast<int>(this->name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloModuleProto.name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->name(), output);
  }

  // string entry_computation_name = 2;
  if (this->entry_computation_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->entry_computation_name().data(), static_cast<int>(this->entry_computation_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloModuleProto.entry_computation_name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      2, this->entry_computation_name(), output);
  }

  // repeated .xla.HloComputationProto computations = 3;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->computations_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      3,
      this->computations(static_cast<int>(i)),
      output);
  }

  // .xla.ProgramShape program_shape = 4;
  if (this->has_program_shape()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      4, *program_shape_, output);
  }

  // int64 id = 5;
  if (this->id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(5, this->id(), output);
  }

  // int64 entry_computation_id = 6;
  if (this->entry_computation_id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(6, this->entry_computation_id(), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HloModuleProto)
}

::google::protobuf::uint8* HloModuleProto::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HloModuleProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string name = 1;
  if (this->name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->name().data(), static_cast<int>(this->name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloModuleProto.name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->name(), target);
  }

  // string entry_computation_name = 2;
  if (this->entry_computation_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->entry_computation_name().data(), static_cast<int>(this->entry_computation_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloModuleProto.entry_computation_name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        2, this->entry_computation_name(), target);
  }

  // repeated .xla.HloComputationProto computations = 3;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->computations_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        3, this->computations(static_cast<int>(i)), deterministic, target);
  }

  // .xla.ProgramShape program_shape = 4;
  if (this->has_program_shape()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        4, *program_shape_, deterministic, target);
  }

  // int64 id = 5;
  if (this->id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(5, this->id(), target);
  }

  // int64 entry_computation_id = 6;
  if (this->entry_computation_id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(6, this->entry_computation_id(), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HloModuleProto)
  return target;
}

size_t HloModuleProto::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HloModuleProto)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated .xla.HloComputationProto computations = 3;
  {
    unsigned int count = static_cast<unsigned int>(this->computations_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->computations(static_cast<int>(i)));
    }
  }

  // string name = 1;
  if (this->name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->name());
  }

  // string entry_computation_name = 2;
  if (this->entry_computation_name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->entry_computation_name());
  }

  // .xla.ProgramShape program_shape = 4;
  if (this->has_program_shape()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *program_shape_);
  }

  // int64 id = 5;
  if (this->id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->id());
  }

  // int64 entry_computation_id = 6;
  if (this->entry_computation_id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->entry_computation_id());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HloModuleProto::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HloModuleProto)
  GOOGLE_DCHECK_NE(&from, this);
  const HloModuleProto* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HloModuleProto>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HloModuleProto)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HloModuleProto)
    MergeFrom(*source);
  }
}

void HloModuleProto::MergeFrom(const HloModuleProto& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HloModuleProto)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  computations_.MergeFrom(from.computations_);
  if (from.name().size() > 0) {
    set_name(from.name());
  }
  if (from.entry_computation_name().size() > 0) {
    set_entry_computation_name(from.entry_computation_name());
  }
  if (from.has_program_shape()) {
    mutable_program_shape()->::xla::ProgramShape::MergeFrom(from.program_shape());
  }
  if (from.id() != 0) {
    set_id(from.id());
  }
  if (from.entry_computation_id() != 0) {
    set_entry_computation_id(from.entry_computation_id());
  }
}

void HloModuleProto::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HloModuleProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HloModuleProto::CopyFrom(const HloModuleProto& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HloModuleProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HloModuleProto::IsInitialized() const {
  return true;
}

void HloModuleProto::Swap(HloModuleProto* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HloModuleProto* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HloModuleProto::UnsafeArenaSwap(HloModuleProto* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HloModuleProto::InternalSwap(HloModuleProto* other) {
  using std::swap;
  CastToBase(&computations_)->InternalSwap(CastToBase(&other->computations_));
  name_.Swap(&other->name_);
  entry_computation_name_.Swap(&other->entry_computation_name_);
  swap(program_shape_, other->program_shape_);
  swap(id_, other->id_);
  swap(entry_computation_id_, other->entry_computation_id_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HloModuleProto::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HloOrderingProto_SequentialComputation::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HloOrderingProto_SequentialComputation::kComputationNameFieldNumber;
const int HloOrderingProto_SequentialComputation::kInstructionNamesFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HloOrderingProto_SequentialComputation::HloOrderingProto_SequentialComputation()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloOrderingProto_SequentialComputation();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HloOrderingProto.SequentialComputation)
}
HloOrderingProto_SequentialComputation::HloOrderingProto_SequentialComputation(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  instruction_names_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloOrderingProto_SequentialComputation();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HloOrderingProto.SequentialComputation)
}
HloOrderingProto_SequentialComputation::HloOrderingProto_SequentialComputation(const HloOrderingProto_SequentialComputation& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      instruction_names_(from.instruction_names_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  computation_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.computation_name().size() > 0) {
    computation_name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.computation_name(),
      GetArenaNoVirtual());
  }
  // @@protoc_insertion_point(copy_constructor:xla.HloOrderingProto.SequentialComputation)
}

void HloOrderingProto_SequentialComputation::SharedCtor() {
  computation_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  _cached_size_ = 0;
}

HloOrderingProto_SequentialComputation::~HloOrderingProto_SequentialComputation() {
  // @@protoc_insertion_point(destructor:xla.HloOrderingProto.SequentialComputation)
  SharedDtor();
}

void HloOrderingProto_SequentialComputation::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  computation_name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

void HloOrderingProto_SequentialComputation::ArenaDtor(void* object) {
  HloOrderingProto_SequentialComputation* _this = reinterpret_cast< HloOrderingProto_SequentialComputation* >(object);
  (void)_this;
}
void HloOrderingProto_SequentialComputation::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HloOrderingProto_SequentialComputation::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HloOrderingProto_SequentialComputation::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HloOrderingProto_SequentialComputation& HloOrderingProto_SequentialComputation::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloOrderingProto_SequentialComputation();
  return *internal_default_instance();
}


void HloOrderingProto_SequentialComputation::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HloOrderingProto.SequentialComputation)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  instruction_names_.Clear();
  computation_name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  _internal_metadata_.Clear();
}

bool HloOrderingProto_SequentialComputation::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HloOrderingProto.SequentialComputation)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // string computation_name = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_computation_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->computation_name().data(), static_cast<int>(this->computation_name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloOrderingProto.SequentialComputation.computation_name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated string instruction_names = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->add_instruction_names()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->instruction_names(this->instruction_names_size() - 1).data(),
            static_cast<int>(this->instruction_names(this->instruction_names_size() - 1).length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloOrderingProto.SequentialComputation.instruction_names"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HloOrderingProto.SequentialComputation)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HloOrderingProto.SequentialComputation)
  return false;
#undef DO_
}

void HloOrderingProto_SequentialComputation::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HloOrderingProto.SequentialComputation)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string computation_name = 1;
  if (this->computation_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->computation_name().data(), static_cast<int>(this->computation_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloOrderingProto.SequentialComputation.computation_name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->computation_name(), output);
  }

  // repeated string instruction_names = 2;
  for (int i = 0, n = this->instruction_names_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->instruction_names(i).data(), static_cast<int>(this->instruction_names(i).length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloOrderingProto.SequentialComputation.instruction_names");
    ::google::protobuf::internal::WireFormatLite::WriteString(
      2, this->instruction_names(i), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HloOrderingProto.SequentialComputation)
}

::google::protobuf::uint8* HloOrderingProto_SequentialComputation::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HloOrderingProto.SequentialComputation)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string computation_name = 1;
  if (this->computation_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->computation_name().data(), static_cast<int>(this->computation_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloOrderingProto.SequentialComputation.computation_name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->computation_name(), target);
  }

  // repeated string instruction_names = 2;
  for (int i = 0, n = this->instruction_names_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->instruction_names(i).data(), static_cast<int>(this->instruction_names(i).length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloOrderingProto.SequentialComputation.instruction_names");
    target = ::google::protobuf::internal::WireFormatLite::
      WriteStringToArray(2, this->instruction_names(i), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HloOrderingProto.SequentialComputation)
  return target;
}

size_t HloOrderingProto_SequentialComputation::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HloOrderingProto.SequentialComputation)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated string instruction_names = 2;
  total_size += 1 *
      ::google::protobuf::internal::FromIntSize(this->instruction_names_size());
  for (int i = 0, n = this->instruction_names_size(); i < n; i++) {
    total_size += ::google::protobuf::internal::WireFormatLite::StringSize(
      this->instruction_names(i));
  }

  // string computation_name = 1;
  if (this->computation_name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->computation_name());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HloOrderingProto_SequentialComputation::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HloOrderingProto.SequentialComputation)
  GOOGLE_DCHECK_NE(&from, this);
  const HloOrderingProto_SequentialComputation* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HloOrderingProto_SequentialComputation>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HloOrderingProto.SequentialComputation)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HloOrderingProto.SequentialComputation)
    MergeFrom(*source);
  }
}

void HloOrderingProto_SequentialComputation::MergeFrom(const HloOrderingProto_SequentialComputation& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HloOrderingProto.SequentialComputation)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  instruction_names_.MergeFrom(from.instruction_names_);
  if (from.computation_name().size() > 0) {
    set_computation_name(from.computation_name());
  }
}

void HloOrderingProto_SequentialComputation::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HloOrderingProto.SequentialComputation)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HloOrderingProto_SequentialComputation::CopyFrom(const HloOrderingProto_SequentialComputation& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HloOrderingProto.SequentialComputation)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HloOrderingProto_SequentialComputation::IsInitialized() const {
  return true;
}

void HloOrderingProto_SequentialComputation::Swap(HloOrderingProto_SequentialComputation* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HloOrderingProto_SequentialComputation* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HloOrderingProto_SequentialComputation::UnsafeArenaSwap(HloOrderingProto_SequentialComputation* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HloOrderingProto_SequentialComputation::InternalSwap(HloOrderingProto_SequentialComputation* other) {
  using std::swap;
  instruction_names_.InternalSwap(CastToBase(&other->instruction_names_));
  computation_name_.Swap(&other->computation_name_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HloOrderingProto_SequentialComputation::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HloOrderingProto::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HloOrderingProto::kSequentialComputationsFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HloOrderingProto::HloOrderingProto()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloOrderingProto();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HloOrderingProto)
}
HloOrderingProto::HloOrderingProto(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  sequential_computations_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloOrderingProto();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HloOrderingProto)
}
HloOrderingProto::HloOrderingProto(const HloOrderingProto& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      sequential_computations_(from.sequential_computations_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  // @@protoc_insertion_point(copy_constructor:xla.HloOrderingProto)
}

void HloOrderingProto::SharedCtor() {
  _cached_size_ = 0;
}

HloOrderingProto::~HloOrderingProto() {
  // @@protoc_insertion_point(destructor:xla.HloOrderingProto)
  SharedDtor();
}

void HloOrderingProto::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
}

void HloOrderingProto::ArenaDtor(void* object) {
  HloOrderingProto* _this = reinterpret_cast< HloOrderingProto* >(object);
  (void)_this;
}
void HloOrderingProto::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HloOrderingProto::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HloOrderingProto::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HloOrderingProto& HloOrderingProto::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloOrderingProto();
  return *internal_default_instance();
}


void HloOrderingProto::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HloOrderingProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  sequential_computations_.Clear();
  _internal_metadata_.Clear();
}

bool HloOrderingProto::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HloOrderingProto)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_sequential_computations()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HloOrderingProto)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HloOrderingProto)
  return false;
#undef DO_
}

void HloOrderingProto::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HloOrderingProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->sequential_computations_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      1,
      this->sequential_computations(static_cast<int>(i)),
      output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HloOrderingProto)
}

::google::protobuf::uint8* HloOrderingProto::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HloOrderingProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->sequential_computations_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        1, this->sequential_computations(static_cast<int>(i)), deterministic, target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HloOrderingProto)
  return target;
}

size_t HloOrderingProto::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HloOrderingProto)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated .xla.HloOrderingProto.SequentialComputation sequential_computations = 1;
  {
    unsigned int count = static_cast<unsigned int>(this->sequential_computations_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->sequential_computations(static_cast<int>(i)));
    }
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HloOrderingProto::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HloOrderingProto)
  GOOGLE_DCHECK_NE(&from, this);
  const HloOrderingProto* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HloOrderingProto>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HloOrderingProto)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HloOrderingProto)
    MergeFrom(*source);
  }
}

void HloOrderingProto::MergeFrom(const HloOrderingProto& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HloOrderingProto)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  sequential_computations_.MergeFrom(from.sequential_computations_);
}

void HloOrderingProto::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HloOrderingProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HloOrderingProto::CopyFrom(const HloOrderingProto& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HloOrderingProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HloOrderingProto::IsInitialized() const {
  return true;
}

void HloOrderingProto::Swap(HloOrderingProto* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HloOrderingProto* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HloOrderingProto::UnsafeArenaSwap(HloOrderingProto* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HloOrderingProto::InternalSwap(HloOrderingProto* other) {
  using std::swap;
  CastToBase(&sequential_computations_)->InternalSwap(CastToBase(&other->sequential_computations_));
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HloOrderingProto::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void LogicalBufferProto_Location::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int LogicalBufferProto_Location::kComputationNameFieldNumber;
const int LogicalBufferProto_Location::kInstructionNameFieldNumber;
const int LogicalBufferProto_Location::kShapeIndexFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

LogicalBufferProto_Location::LogicalBufferProto_Location()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto_Location();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.LogicalBufferProto.Location)
}
LogicalBufferProto_Location::LogicalBufferProto_Location(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  shape_index_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto_Location();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.LogicalBufferProto.Location)
}
LogicalBufferProto_Location::LogicalBufferProto_Location(const LogicalBufferProto_Location& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      shape_index_(from.shape_index_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  computation_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.computation_name().size() > 0) {
    computation_name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.computation_name(),
      GetArenaNoVirtual());
  }
  instruction_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.instruction_name().size() > 0) {
    instruction_name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.instruction_name(),
      GetArenaNoVirtual());
  }
  // @@protoc_insertion_point(copy_constructor:xla.LogicalBufferProto.Location)
}

void LogicalBufferProto_Location::SharedCtor() {
  computation_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  instruction_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  _cached_size_ = 0;
}

LogicalBufferProto_Location::~LogicalBufferProto_Location() {
  // @@protoc_insertion_point(destructor:xla.LogicalBufferProto.Location)
  SharedDtor();
}

void LogicalBufferProto_Location::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  computation_name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  instruction_name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

void LogicalBufferProto_Location::ArenaDtor(void* object) {
  LogicalBufferProto_Location* _this = reinterpret_cast< LogicalBufferProto_Location* >(object);
  (void)_this;
}
void LogicalBufferProto_Location::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void LogicalBufferProto_Location::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* LogicalBufferProto_Location::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const LogicalBufferProto_Location& LogicalBufferProto_Location::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto_Location();
  return *internal_default_instance();
}


void LogicalBufferProto_Location::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.LogicalBufferProto.Location)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  shape_index_.Clear();
  computation_name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  instruction_name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  _internal_metadata_.Clear();
}

bool LogicalBufferProto_Location::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.LogicalBufferProto.Location)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // string computation_name = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_computation_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->computation_name().data(), static_cast<int>(this->computation_name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.LogicalBufferProto.Location.computation_name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string instruction_name = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_instruction_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->instruction_name().data(), static_cast<int>(this->instruction_name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.LogicalBufferProto.Location.instruction_name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 shape_index = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u /* 26 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_shape_index())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(24u /* 24 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 1, 26u, input, this->mutable_shape_index())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.LogicalBufferProto.Location)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.LogicalBufferProto.Location)
  return false;
#undef DO_
}

void LogicalBufferProto_Location::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.LogicalBufferProto.Location)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string computation_name = 1;
  if (this->computation_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->computation_name().data(), static_cast<int>(this->computation_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.LogicalBufferProto.Location.computation_name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->computation_name(), output);
  }

  // string instruction_name = 2;
  if (this->instruction_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->instruction_name().data(), static_cast<int>(this->instruction_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.LogicalBufferProto.Location.instruction_name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      2, this->instruction_name(), output);
  }

  // repeated int64 shape_index = 3;
  if (this->shape_index_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(3, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _shape_index_cached_byte_size_));
  }
  for (int i = 0, n = this->shape_index_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->shape_index(i), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.LogicalBufferProto.Location)
}

::google::protobuf::uint8* LogicalBufferProto_Location::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.LogicalBufferProto.Location)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // string computation_name = 1;
  if (this->computation_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->computation_name().data(), static_cast<int>(this->computation_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.LogicalBufferProto.Location.computation_name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->computation_name(), target);
  }

  // string instruction_name = 2;
  if (this->instruction_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->instruction_name().data(), static_cast<int>(this->instruction_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.LogicalBufferProto.Location.instruction_name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        2, this->instruction_name(), target);
  }

  // repeated int64 shape_index = 3;
  if (this->shape_index_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      3,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _shape_index_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->shape_index_, target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.LogicalBufferProto.Location)
  return target;
}

size_t LogicalBufferProto_Location::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.LogicalBufferProto.Location)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated int64 shape_index = 3;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->shape_index_);
    if (data_size > 0) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _shape_index_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // string computation_name = 1;
  if (this->computation_name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->computation_name());
  }

  // string instruction_name = 2;
  if (this->instruction_name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->instruction_name());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void LogicalBufferProto_Location::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.LogicalBufferProto.Location)
  GOOGLE_DCHECK_NE(&from, this);
  const LogicalBufferProto_Location* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const LogicalBufferProto_Location>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.LogicalBufferProto.Location)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.LogicalBufferProto.Location)
    MergeFrom(*source);
  }
}

void LogicalBufferProto_Location::MergeFrom(const LogicalBufferProto_Location& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.LogicalBufferProto.Location)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  shape_index_.MergeFrom(from.shape_index_);
  if (from.computation_name().size() > 0) {
    set_computation_name(from.computation_name());
  }
  if (from.instruction_name().size() > 0) {
    set_instruction_name(from.instruction_name());
  }
}

void LogicalBufferProto_Location::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.LogicalBufferProto.Location)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void LogicalBufferProto_Location::CopyFrom(const LogicalBufferProto_Location& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.LogicalBufferProto.Location)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool LogicalBufferProto_Location::IsInitialized() const {
  return true;
}

void LogicalBufferProto_Location::Swap(LogicalBufferProto_Location* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    LogicalBufferProto_Location* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void LogicalBufferProto_Location::UnsafeArenaSwap(LogicalBufferProto_Location* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void LogicalBufferProto_Location::InternalSwap(LogicalBufferProto_Location* other) {
  using std::swap;
  shape_index_.InternalSwap(&other->shape_index_);
  computation_name_.Swap(&other->computation_name_);
  instruction_name_.Swap(&other->instruction_name_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata LogicalBufferProto_Location::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void LogicalBufferProto::InitAsDefaultInstance() {
  ::xla::_LogicalBufferProto_default_instance_._instance.get_mutable()->defined_at_ = const_cast< ::xla::LogicalBufferProto_Location*>(
      ::xla::LogicalBufferProto_Location::internal_default_instance());
}
void LogicalBufferProto::unsafe_arena_set_allocated_defined_at(
    ::xla::LogicalBufferProto_Location* defined_at) {
  if (GetArenaNoVirtual() == NULL) {
    delete defined_at_;
  }
  defined_at_ = defined_at;
  if (defined_at) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.LogicalBufferProto.defined_at)
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int LogicalBufferProto::kIdFieldNumber;
const int LogicalBufferProto::kSizeFieldNumber;
const int LogicalBufferProto::kDefinedAtFieldNumber;
const int LogicalBufferProto::kColorFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

LogicalBufferProto::LogicalBufferProto()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.LogicalBufferProto)
}
LogicalBufferProto::LogicalBufferProto(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.LogicalBufferProto)
}
LogicalBufferProto::LogicalBufferProto(const LogicalBufferProto& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  if (from.has_defined_at()) {
    defined_at_ = new ::xla::LogicalBufferProto_Location(*from.defined_at_);
  } else {
    defined_at_ = NULL;
  }
  ::memcpy(&id_, &from.id_,
    static_cast<size_t>(reinterpret_cast<char*>(&color_) -
    reinterpret_cast<char*>(&id_)) + sizeof(color_));
  // @@protoc_insertion_point(copy_constructor:xla.LogicalBufferProto)
}

void LogicalBufferProto::SharedCtor() {
  ::memset(&defined_at_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&color_) -
      reinterpret_cast<char*>(&defined_at_)) + sizeof(color_));
  _cached_size_ = 0;
}

LogicalBufferProto::~LogicalBufferProto() {
  // @@protoc_insertion_point(destructor:xla.LogicalBufferProto)
  SharedDtor();
}

void LogicalBufferProto::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  if (this != internal_default_instance()) delete defined_at_;
}

void LogicalBufferProto::ArenaDtor(void* object) {
  LogicalBufferProto* _this = reinterpret_cast< LogicalBufferProto* >(object);
  (void)_this;
}
void LogicalBufferProto::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void LogicalBufferProto::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* LogicalBufferProto::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const LogicalBufferProto& LogicalBufferProto::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsLogicalBufferProto();
  return *internal_default_instance();
}


void LogicalBufferProto::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.LogicalBufferProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  if (GetArenaNoVirtual() == NULL && defined_at_ != NULL) {
    delete defined_at_;
  }
  defined_at_ = NULL;
  ::memset(&id_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&color_) -
      reinterpret_cast<char*>(&id_)) + sizeof(color_));
  _internal_metadata_.Clear();
}

bool LogicalBufferProto::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.LogicalBufferProto)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // int64 id = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(8u /* 8 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 size = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(16u /* 16 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &size_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.LogicalBufferProto.Location defined_at = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u /* 26 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_defined_at()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 color = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(32u /* 32 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &color_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.LogicalBufferProto)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.LogicalBufferProto)
  return false;
#undef DO_
}

void LogicalBufferProto::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.LogicalBufferProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 id = 1;
  if (this->id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(1, this->id(), output);
  }

  // int64 size = 2;
  if (this->size() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(2, this->size(), output);
  }

  // .xla.LogicalBufferProto.Location defined_at = 3;
  if (this->has_defined_at()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      3, *defined_at_, output);
  }

  // int64 color = 4;
  if (this->color() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(4, this->color(), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.LogicalBufferProto)
}

::google::protobuf::uint8* LogicalBufferProto::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.LogicalBufferProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 id = 1;
  if (this->id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(1, this->id(), target);
  }

  // int64 size = 2;
  if (this->size() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(2, this->size(), target);
  }

  // .xla.LogicalBufferProto.Location defined_at = 3;
  if (this->has_defined_at()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        3, *defined_at_, deterministic, target);
  }

  // int64 color = 4;
  if (this->color() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(4, this->color(), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.LogicalBufferProto)
  return target;
}

size_t LogicalBufferProto::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.LogicalBufferProto)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // .xla.LogicalBufferProto.Location defined_at = 3;
  if (this->has_defined_at()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *defined_at_);
  }

  // int64 id = 1;
  if (this->id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->id());
  }

  // int64 size = 2;
  if (this->size() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->size());
  }

  // int64 color = 4;
  if (this->color() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->color());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void LogicalBufferProto::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.LogicalBufferProto)
  GOOGLE_DCHECK_NE(&from, this);
  const LogicalBufferProto* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const LogicalBufferProto>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.LogicalBufferProto)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.LogicalBufferProto)
    MergeFrom(*source);
  }
}

void LogicalBufferProto::MergeFrom(const LogicalBufferProto& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.LogicalBufferProto)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  if (from.has_defined_at()) {
    mutable_defined_at()->::xla::LogicalBufferProto_Location::MergeFrom(from.defined_at());
  }
  if (from.id() != 0) {
    set_id(from.id());
  }
  if (from.size() != 0) {
    set_size(from.size());
  }
  if (from.color() != 0) {
    set_color(from.color());
  }
}

void LogicalBufferProto::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.LogicalBufferProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void LogicalBufferProto::CopyFrom(const LogicalBufferProto& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.LogicalBufferProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool LogicalBufferProto::IsInitialized() const {
  return true;
}

void LogicalBufferProto::Swap(LogicalBufferProto* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    LogicalBufferProto* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void LogicalBufferProto::UnsafeArenaSwap(LogicalBufferProto* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void LogicalBufferProto::InternalSwap(LogicalBufferProto* other) {
  using std::swap;
  swap(defined_at_, other->defined_at_);
  swap(id_, other->id_);
  swap(size_, other->size_);
  swap(color_, other->color_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata LogicalBufferProto::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void BufferAllocationProto_Assigned::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int BufferAllocationProto_Assigned::kLogicalBufferIdFieldNumber;
const int BufferAllocationProto_Assigned::kOffsetFieldNumber;
const int BufferAllocationProto_Assigned::kSizeFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

BufferAllocationProto_Assigned::BufferAllocationProto_Assigned()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAllocationProto_Assigned();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.BufferAllocationProto.Assigned)
}
BufferAllocationProto_Assigned::BufferAllocationProto_Assigned(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAllocationProto_Assigned();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.BufferAllocationProto.Assigned)
}
BufferAllocationProto_Assigned::BufferAllocationProto_Assigned(const BufferAllocationProto_Assigned& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::memcpy(&logical_buffer_id_, &from.logical_buffer_id_,
    static_cast<size_t>(reinterpret_cast<char*>(&size_) -
    reinterpret_cast<char*>(&logical_buffer_id_)) + sizeof(size_));
  // @@protoc_insertion_point(copy_constructor:xla.BufferAllocationProto.Assigned)
}

void BufferAllocationProto_Assigned::SharedCtor() {
  ::memset(&logical_buffer_id_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&size_) -
      reinterpret_cast<char*>(&logical_buffer_id_)) + sizeof(size_));
  _cached_size_ = 0;
}

BufferAllocationProto_Assigned::~BufferAllocationProto_Assigned() {
  // @@protoc_insertion_point(destructor:xla.BufferAllocationProto.Assigned)
  SharedDtor();
}

void BufferAllocationProto_Assigned::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
}

void BufferAllocationProto_Assigned::ArenaDtor(void* object) {
  BufferAllocationProto_Assigned* _this = reinterpret_cast< BufferAllocationProto_Assigned* >(object);
  (void)_this;
}
void BufferAllocationProto_Assigned::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void BufferAllocationProto_Assigned::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* BufferAllocationProto_Assigned::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const BufferAllocationProto_Assigned& BufferAllocationProto_Assigned::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAllocationProto_Assigned();
  return *internal_default_instance();
}


void BufferAllocationProto_Assigned::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.BufferAllocationProto.Assigned)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  ::memset(&logical_buffer_id_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&size_) -
      reinterpret_cast<char*>(&logical_buffer_id_)) + sizeof(size_));
  _internal_metadata_.Clear();
}

bool BufferAllocationProto_Assigned::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.BufferAllocationProto.Assigned)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // int64 logical_buffer_id = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(8u /* 8 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &logical_buffer_id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 offset = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(16u /* 16 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &offset_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 size = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(24u /* 24 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &size_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.BufferAllocationProto.Assigned)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.BufferAllocationProto.Assigned)
  return false;
#undef DO_
}

void BufferAllocationProto_Assigned::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.BufferAllocationProto.Assigned)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 logical_buffer_id = 1;
  if (this->logical_buffer_id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(1, this->logical_buffer_id(), output);
  }

  // int64 offset = 2;
  if (this->offset() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(2, this->offset(), output);
  }

  // int64 size = 3;
  if (this->size() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(3, this->size(), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.BufferAllocationProto.Assigned)
}

::google::protobuf::uint8* BufferAllocationProto_Assigned::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.BufferAllocationProto.Assigned)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 logical_buffer_id = 1;
  if (this->logical_buffer_id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(1, this->logical_buffer_id(), target);
  }

  // int64 offset = 2;
  if (this->offset() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(2, this->offset(), target);
  }

  // int64 size = 3;
  if (this->size() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(3, this->size(), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.BufferAllocationProto.Assigned)
  return target;
}

size_t BufferAllocationProto_Assigned::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.BufferAllocationProto.Assigned)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // int64 logical_buffer_id = 1;
  if (this->logical_buffer_id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->logical_buffer_id());
  }

  // int64 offset = 2;
  if (this->offset() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->offset());
  }

  // int64 size = 3;
  if (this->size() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->size());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void BufferAllocationProto_Assigned::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.BufferAllocationProto.Assigned)
  GOOGLE_DCHECK_NE(&from, this);
  const BufferAllocationProto_Assigned* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const BufferAllocationProto_Assigned>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.BufferAllocationProto.Assigned)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.BufferAllocationProto.Assigned)
    MergeFrom(*source);
  }
}

void BufferAllocationProto_Assigned::MergeFrom(const BufferAllocationProto_Assigned& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.BufferAllocationProto.Assigned)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  if (from.logical_buffer_id() != 0) {
    set_logical_buffer_id(from.logical_buffer_id());
  }
  if (from.offset() != 0) {
    set_offset(from.offset());
  }
  if (from.size() != 0) {
    set_size(from.size());
  }
}

void BufferAllocationProto_Assigned::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.BufferAllocationProto.Assigned)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void BufferAllocationProto_Assigned::CopyFrom(const BufferAllocationProto_Assigned& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.BufferAllocationProto.Assigned)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool BufferAllocationProto_Assigned::IsInitialized() const {
  return true;
}

void BufferAllocationProto_Assigned::Swap(BufferAllocationProto_Assigned* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    BufferAllocationProto_Assigned* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void BufferAllocationProto_Assigned::UnsafeArenaSwap(BufferAllocationProto_Assigned* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void BufferAllocationProto_Assigned::InternalSwap(BufferAllocationProto_Assigned* other) {
  using std::swap;
  swap(logical_buffer_id_, other->logical_buffer_id_);
  swap(offset_, other->offset_);
  swap(size_, other->size_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata BufferAllocationProto_Assigned::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void BufferAllocationProto::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int BufferAllocationProto::kIndexFieldNumber;
const int BufferAllocationProto::kSizeFieldNumber;
const int BufferAllocationProto::kIsThreadLocalFieldNumber;
const int BufferAllocationProto::kIsReusableFieldNumber;
const int BufferAllocationProto::kIsEntryComputationParameterFieldNumber;
const int BufferAllocationProto::kParameterNumberFieldNumber;
const int BufferAllocationProto::kParameterShapeIndexFieldNumber;
const int BufferAllocationProto::kMaybeLiveOutFieldNumber;
const int BufferAllocationProto::kColorFieldNumber;
const int BufferAllocationProto::kAssignedFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

BufferAllocationProto::BufferAllocationProto()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAllocationProto();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.BufferAllocationProto)
}
BufferAllocationProto::BufferAllocationProto(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  assigned_(arena),
  parameter_shape_index_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAllocationProto();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.BufferAllocationProto)
}
BufferAllocationProto::BufferAllocationProto(const BufferAllocationProto& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      assigned_(from.assigned_),
      parameter_shape_index_(from.parameter_shape_index_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::memcpy(&index_, &from.index_,
    static_cast<size_t>(reinterpret_cast<char*>(&maybe_live_out_) -
    reinterpret_cast<char*>(&index_)) + sizeof(maybe_live_out_));
  // @@protoc_insertion_point(copy_constructor:xla.BufferAllocationProto)
}

void BufferAllocationProto::SharedCtor() {
  ::memset(&index_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&maybe_live_out_) -
      reinterpret_cast<char*>(&index_)) + sizeof(maybe_live_out_));
  _cached_size_ = 0;
}

BufferAllocationProto::~BufferAllocationProto() {
  // @@protoc_insertion_point(destructor:xla.BufferAllocationProto)
  SharedDtor();
}

void BufferAllocationProto::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
}

void BufferAllocationProto::ArenaDtor(void* object) {
  BufferAllocationProto* _this = reinterpret_cast< BufferAllocationProto* >(object);
  (void)_this;
}
void BufferAllocationProto::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void BufferAllocationProto::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* BufferAllocationProto::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const BufferAllocationProto& BufferAllocationProto::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAllocationProto();
  return *internal_default_instance();
}


void BufferAllocationProto::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.BufferAllocationProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  assigned_.Clear();
  parameter_shape_index_.Clear();
  ::memset(&index_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&maybe_live_out_) -
      reinterpret_cast<char*>(&index_)) + sizeof(maybe_live_out_));
  _internal_metadata_.Clear();
}

bool BufferAllocationProto::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.BufferAllocationProto)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // int64 index = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(8u /* 8 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &index_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 size = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(16u /* 16 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &size_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // bool is_thread_local = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(24u /* 24 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   bool, ::google::protobuf::internal::WireFormatLite::TYPE_BOOL>(
                 input, &is_thread_local_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // bool is_reusable = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(32u /* 32 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   bool, ::google::protobuf::internal::WireFormatLite::TYPE_BOOL>(
                 input, &is_reusable_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // bool is_entry_computation_parameter = 5;
      case 5: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(40u /* 40 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   bool, ::google::protobuf::internal::WireFormatLite::TYPE_BOOL>(
                 input, &is_entry_computation_parameter_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 parameter_number = 6;
      case 6: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(48u /* 48 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &parameter_number_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // bool maybe_live_out = 7;
      case 7: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(56u /* 56 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   bool, ::google::protobuf::internal::WireFormatLite::TYPE_BOOL>(
                 input, &maybe_live_out_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 color = 8;
      case 8: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(64u /* 64 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &color_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .xla.BufferAllocationProto.Assigned assigned = 9;
      case 9: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(74u /* 74 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_assigned()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated int64 parameter_shape_index = 10;
      case 10: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(82u /* 82 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, this->mutable_parameter_shape_index())));
        } else if (
            static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(80u /* 80 & 0xFF */)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitiveNoInline<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 1, 82u, input, this->mutable_parameter_shape_index())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.BufferAllocationProto)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.BufferAllocationProto)
  return false;
#undef DO_
}

void BufferAllocationProto::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.BufferAllocationProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 index = 1;
  if (this->index() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(1, this->index(), output);
  }

  // int64 size = 2;
  if (this->size() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(2, this->size(), output);
  }

  // bool is_thread_local = 3;
  if (this->is_thread_local() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteBool(3, this->is_thread_local(), output);
  }

  // bool is_reusable = 4;
  if (this->is_reusable() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteBool(4, this->is_reusable(), output);
  }

  // bool is_entry_computation_parameter = 5;
  if (this->is_entry_computation_parameter() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteBool(5, this->is_entry_computation_parameter(), output);
  }

  // int64 parameter_number = 6;
  if (this->parameter_number() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(6, this->parameter_number(), output);
  }

  // bool maybe_live_out = 7;
  if (this->maybe_live_out() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteBool(7, this->maybe_live_out(), output);
  }

  // int64 color = 8;
  if (this->color() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(8, this->color(), output);
  }

  // repeated .xla.BufferAllocationProto.Assigned assigned = 9;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->assigned_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      9,
      this->assigned(static_cast<int>(i)),
      output);
  }

  // repeated int64 parameter_shape_index = 10;
  if (this->parameter_shape_index_size() > 0) {
    ::google::protobuf::internal::WireFormatLite::WriteTag(10, ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED, output);
    output->WriteVarint32(static_cast< ::google::protobuf::uint32>(
        _parameter_shape_index_cached_byte_size_));
  }
  for (int i = 0, n = this->parameter_shape_index_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64NoTag(
      this->parameter_shape_index(i), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.BufferAllocationProto)
}

::google::protobuf::uint8* BufferAllocationProto::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.BufferAllocationProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 index = 1;
  if (this->index() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(1, this->index(), target);
  }

  // int64 size = 2;
  if (this->size() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(2, this->size(), target);
  }

  // bool is_thread_local = 3;
  if (this->is_thread_local() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteBoolToArray(3, this->is_thread_local(), target);
  }

  // bool is_reusable = 4;
  if (this->is_reusable() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteBoolToArray(4, this->is_reusable(), target);
  }

  // bool is_entry_computation_parameter = 5;
  if (this->is_entry_computation_parameter() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteBoolToArray(5, this->is_entry_computation_parameter(), target);
  }

  // int64 parameter_number = 6;
  if (this->parameter_number() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(6, this->parameter_number(), target);
  }

  // bool maybe_live_out = 7;
  if (this->maybe_live_out() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteBoolToArray(7, this->maybe_live_out(), target);
  }

  // int64 color = 8;
  if (this->color() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(8, this->color(), target);
  }

  // repeated .xla.BufferAllocationProto.Assigned assigned = 9;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->assigned_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        9, this->assigned(static_cast<int>(i)), deterministic, target);
  }

  // repeated int64 parameter_shape_index = 10;
  if (this->parameter_shape_index_size() > 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteTagToArray(
      10,
      ::google::protobuf::internal::WireFormatLite::WIRETYPE_LENGTH_DELIMITED,
      target);
    target = ::google::protobuf::io::CodedOutputStream::WriteVarint32ToArray(
        static_cast< ::google::protobuf::int32>(
            _parameter_shape_index_cached_byte_size_), target);
    target = ::google::protobuf::internal::WireFormatLite::
      WriteInt64NoTagToArray(this->parameter_shape_index_, target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.BufferAllocationProto)
  return target;
}

size_t BufferAllocationProto::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.BufferAllocationProto)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated .xla.BufferAllocationProto.Assigned assigned = 9;
  {
    unsigned int count = static_cast<unsigned int>(this->assigned_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->assigned(static_cast<int>(i)));
    }
  }

  // repeated int64 parameter_shape_index = 10;
  {
    size_t data_size = ::google::protobuf::internal::WireFormatLite::
      Int64Size(this->parameter_shape_index_);
    if (data_size > 0) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::Int32Size(
            static_cast< ::google::protobuf::int32>(data_size));
    }
    int cached_size = ::google::protobuf::internal::ToCachedSize(data_size);
    GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
    _parameter_shape_index_cached_byte_size_ = cached_size;
    GOOGLE_SAFE_CONCURRENT_WRITES_END();
    total_size += data_size;
  }

  // int64 index = 1;
  if (this->index() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->index());
  }

  // int64 size = 2;
  if (this->size() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->size());
  }

  // int64 parameter_number = 6;
  if (this->parameter_number() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->parameter_number());
  }

  // int64 color = 8;
  if (this->color() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->color());
  }

  // bool is_thread_local = 3;
  if (this->is_thread_local() != 0) {
    total_size += 1 + 1;
  }

  // bool is_reusable = 4;
  if (this->is_reusable() != 0) {
    total_size += 1 + 1;
  }

  // bool is_entry_computation_parameter = 5;
  if (this->is_entry_computation_parameter() != 0) {
    total_size += 1 + 1;
  }

  // bool maybe_live_out = 7;
  if (this->maybe_live_out() != 0) {
    total_size += 1 + 1;
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void BufferAllocationProto::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.BufferAllocationProto)
  GOOGLE_DCHECK_NE(&from, this);
  const BufferAllocationProto* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const BufferAllocationProto>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.BufferAllocationProto)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.BufferAllocationProto)
    MergeFrom(*source);
  }
}

void BufferAllocationProto::MergeFrom(const BufferAllocationProto& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.BufferAllocationProto)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  assigned_.MergeFrom(from.assigned_);
  parameter_shape_index_.MergeFrom(from.parameter_shape_index_);
  if (from.index() != 0) {
    set_index(from.index());
  }
  if (from.size() != 0) {
    set_size(from.size());
  }
  if (from.parameter_number() != 0) {
    set_parameter_number(from.parameter_number());
  }
  if (from.color() != 0) {
    set_color(from.color());
  }
  if (from.is_thread_local() != 0) {
    set_is_thread_local(from.is_thread_local());
  }
  if (from.is_reusable() != 0) {
    set_is_reusable(from.is_reusable());
  }
  if (from.is_entry_computation_parameter() != 0) {
    set_is_entry_computation_parameter(from.is_entry_computation_parameter());
  }
  if (from.maybe_live_out() != 0) {
    set_maybe_live_out(from.maybe_live_out());
  }
}

void BufferAllocationProto::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.BufferAllocationProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void BufferAllocationProto::CopyFrom(const BufferAllocationProto& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.BufferAllocationProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool BufferAllocationProto::IsInitialized() const {
  return true;
}

void BufferAllocationProto::Swap(BufferAllocationProto* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    BufferAllocationProto* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void BufferAllocationProto::UnsafeArenaSwap(BufferAllocationProto* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void BufferAllocationProto::InternalSwap(BufferAllocationProto* other) {
  using std::swap;
  CastToBase(&assigned_)->InternalSwap(CastToBase(&other->assigned_));
  parameter_shape_index_.InternalSwap(&other->parameter_shape_index_);
  swap(index_, other->index_);
  swap(size_, other->size_);
  swap(parameter_number_, other->parameter_number_);
  swap(color_, other->color_);
  swap(is_thread_local_, other->is_thread_local_);
  swap(is_reusable_, other->is_reusable_);
  swap(is_entry_computation_parameter_, other->is_entry_computation_parameter_);
  swap(maybe_live_out_, other->maybe_live_out_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata BufferAllocationProto::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HeapSimulatorTrace_Event::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HeapSimulatorTrace_Event::kKindFieldNumber;
const int HeapSimulatorTrace_Event::kBufferIdFieldNumber;
const int HeapSimulatorTrace_Event::kComputationNameFieldNumber;
const int HeapSimulatorTrace_Event::kInstructionNameFieldNumber;
const int HeapSimulatorTrace_Event::kShareWithCanonicalIdFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HeapSimulatorTrace_Event::HeapSimulatorTrace_Event()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHeapSimulatorTrace_Event();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HeapSimulatorTrace.Event)
}
HeapSimulatorTrace_Event::HeapSimulatorTrace_Event(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHeapSimulatorTrace_Event();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HeapSimulatorTrace.Event)
}
HeapSimulatorTrace_Event::HeapSimulatorTrace_Event(const HeapSimulatorTrace_Event& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  computation_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.computation_name().size() > 0) {
    computation_name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.computation_name(),
      GetArenaNoVirtual());
  }
  instruction_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.instruction_name().size() > 0) {
    instruction_name_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.instruction_name(),
      GetArenaNoVirtual());
  }
  ::memcpy(&buffer_id_, &from.buffer_id_,
    static_cast<size_t>(reinterpret_cast<char*>(&kind_) -
    reinterpret_cast<char*>(&buffer_id_)) + sizeof(kind_));
  // @@protoc_insertion_point(copy_constructor:xla.HeapSimulatorTrace.Event)
}

void HeapSimulatorTrace_Event::SharedCtor() {
  computation_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  instruction_name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  ::memset(&buffer_id_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&kind_) -
      reinterpret_cast<char*>(&buffer_id_)) + sizeof(kind_));
  _cached_size_ = 0;
}

HeapSimulatorTrace_Event::~HeapSimulatorTrace_Event() {
  // @@protoc_insertion_point(destructor:xla.HeapSimulatorTrace.Event)
  SharedDtor();
}

void HeapSimulatorTrace_Event::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  computation_name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  instruction_name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

void HeapSimulatorTrace_Event::ArenaDtor(void* object) {
  HeapSimulatorTrace_Event* _this = reinterpret_cast< HeapSimulatorTrace_Event* >(object);
  (void)_this;
}
void HeapSimulatorTrace_Event::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HeapSimulatorTrace_Event::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HeapSimulatorTrace_Event::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HeapSimulatorTrace_Event& HeapSimulatorTrace_Event::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHeapSimulatorTrace_Event();
  return *internal_default_instance();
}


void HeapSimulatorTrace_Event::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HeapSimulatorTrace.Event)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  computation_name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  instruction_name_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  ::memset(&buffer_id_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&kind_) -
      reinterpret_cast<char*>(&buffer_id_)) + sizeof(kind_));
  _internal_metadata_.Clear();
}

bool HeapSimulatorTrace_Event::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HeapSimulatorTrace.Event)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // .xla.HeapSimulatorTrace.Event.Kind kind = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(8u /* 8 & 0xFF */)) {
          int value;
          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   int, ::google::protobuf::internal::WireFormatLite::TYPE_ENUM>(
                 input, &value)));
          set_kind(static_cast< ::xla::HeapSimulatorTrace_Event_Kind >(value));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 buffer_id = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(16u /* 16 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &buffer_id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string computation_name = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u /* 26 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_computation_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->computation_name().data(), static_cast<int>(this->computation_name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HeapSimulatorTrace.Event.computation_name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string instruction_name = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(34u /* 34 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_instruction_name()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->instruction_name().data(), static_cast<int>(this->instruction_name().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HeapSimulatorTrace.Event.instruction_name"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // int64 share_with_canonical_id = 5;
      case 5: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(40u /* 40 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &share_with_canonical_id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HeapSimulatorTrace.Event)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HeapSimulatorTrace.Event)
  return false;
#undef DO_
}

void HeapSimulatorTrace_Event::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HeapSimulatorTrace.Event)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // .xla.HeapSimulatorTrace.Event.Kind kind = 1;
  if (this->kind() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteEnum(
      1, this->kind(), output);
  }

  // int64 buffer_id = 2;
  if (this->buffer_id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(2, this->buffer_id(), output);
  }

  // string computation_name = 3;
  if (this->computation_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->computation_name().data(), static_cast<int>(this->computation_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HeapSimulatorTrace.Event.computation_name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      3, this->computation_name(), output);
  }

  // string instruction_name = 4;
  if (this->instruction_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->instruction_name().data(), static_cast<int>(this->instruction_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HeapSimulatorTrace.Event.instruction_name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      4, this->instruction_name(), output);
  }

  // int64 share_with_canonical_id = 5;
  if (this->share_with_canonical_id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(5, this->share_with_canonical_id(), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HeapSimulatorTrace.Event)
}

::google::protobuf::uint8* HeapSimulatorTrace_Event::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HeapSimulatorTrace.Event)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // .xla.HeapSimulatorTrace.Event.Kind kind = 1;
  if (this->kind() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteEnumToArray(
      1, this->kind(), target);
  }

  // int64 buffer_id = 2;
  if (this->buffer_id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(2, this->buffer_id(), target);
  }

  // string computation_name = 3;
  if (this->computation_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->computation_name().data(), static_cast<int>(this->computation_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HeapSimulatorTrace.Event.computation_name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        3, this->computation_name(), target);
  }

  // string instruction_name = 4;
  if (this->instruction_name().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->instruction_name().data(), static_cast<int>(this->instruction_name().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HeapSimulatorTrace.Event.instruction_name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        4, this->instruction_name(), target);
  }

  // int64 share_with_canonical_id = 5;
  if (this->share_with_canonical_id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(5, this->share_with_canonical_id(), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HeapSimulatorTrace.Event)
  return target;
}

size_t HeapSimulatorTrace_Event::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HeapSimulatorTrace.Event)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // string computation_name = 3;
  if (this->computation_name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->computation_name());
  }

  // string instruction_name = 4;
  if (this->instruction_name().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->instruction_name());
  }

  // int64 buffer_id = 2;
  if (this->buffer_id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->buffer_id());
  }

  // int64 share_with_canonical_id = 5;
  if (this->share_with_canonical_id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->share_with_canonical_id());
  }

  // .xla.HeapSimulatorTrace.Event.Kind kind = 1;
  if (this->kind() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::EnumSize(this->kind());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HeapSimulatorTrace_Event::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HeapSimulatorTrace.Event)
  GOOGLE_DCHECK_NE(&from, this);
  const HeapSimulatorTrace_Event* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HeapSimulatorTrace_Event>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HeapSimulatorTrace.Event)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HeapSimulatorTrace.Event)
    MergeFrom(*source);
  }
}

void HeapSimulatorTrace_Event::MergeFrom(const HeapSimulatorTrace_Event& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HeapSimulatorTrace.Event)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  if (from.computation_name().size() > 0) {
    set_computation_name(from.computation_name());
  }
  if (from.instruction_name().size() > 0) {
    set_instruction_name(from.instruction_name());
  }
  if (from.buffer_id() != 0) {
    set_buffer_id(from.buffer_id());
  }
  if (from.share_with_canonical_id() != 0) {
    set_share_with_canonical_id(from.share_with_canonical_id());
  }
  if (from.kind() != 0) {
    set_kind(from.kind());
  }
}

void HeapSimulatorTrace_Event::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HeapSimulatorTrace.Event)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HeapSimulatorTrace_Event::CopyFrom(const HeapSimulatorTrace_Event& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HeapSimulatorTrace.Event)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HeapSimulatorTrace_Event::IsInitialized() const {
  return true;
}

void HeapSimulatorTrace_Event::Swap(HeapSimulatorTrace_Event* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HeapSimulatorTrace_Event* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HeapSimulatorTrace_Event::UnsafeArenaSwap(HeapSimulatorTrace_Event* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HeapSimulatorTrace_Event::InternalSwap(HeapSimulatorTrace_Event* other) {
  using std::swap;
  computation_name_.Swap(&other->computation_name_);
  instruction_name_.Swap(&other->instruction_name_);
  swap(buffer_id_, other->buffer_id_);
  swap(share_with_canonical_id_, other->share_with_canonical_id_);
  swap(kind_, other->kind_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HeapSimulatorTrace_Event::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HeapSimulatorTrace::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HeapSimulatorTrace::kEventsFieldNumber;
const int HeapSimulatorTrace::kWholeModuleSimulationFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HeapSimulatorTrace::HeapSimulatorTrace()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHeapSimulatorTrace();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HeapSimulatorTrace)
}
HeapSimulatorTrace::HeapSimulatorTrace(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  events_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHeapSimulatorTrace();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HeapSimulatorTrace)
}
HeapSimulatorTrace::HeapSimulatorTrace(const HeapSimulatorTrace& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      events_(from.events_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  whole_module_simulation_ = from.whole_module_simulation_;
  // @@protoc_insertion_point(copy_constructor:xla.HeapSimulatorTrace)
}

void HeapSimulatorTrace::SharedCtor() {
  whole_module_simulation_ = false;
  _cached_size_ = 0;
}

HeapSimulatorTrace::~HeapSimulatorTrace() {
  // @@protoc_insertion_point(destructor:xla.HeapSimulatorTrace)
  SharedDtor();
}

void HeapSimulatorTrace::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
}

void HeapSimulatorTrace::ArenaDtor(void* object) {
  HeapSimulatorTrace* _this = reinterpret_cast< HeapSimulatorTrace* >(object);
  (void)_this;
}
void HeapSimulatorTrace::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HeapSimulatorTrace::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HeapSimulatorTrace::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HeapSimulatorTrace& HeapSimulatorTrace::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHeapSimulatorTrace();
  return *internal_default_instance();
}


void HeapSimulatorTrace::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HeapSimulatorTrace)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  events_.Clear();
  whole_module_simulation_ = false;
  _internal_metadata_.Clear();
}

bool HeapSimulatorTrace::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HeapSimulatorTrace)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // repeated .xla.HeapSimulatorTrace.Event events = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_events()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // bool whole_module_simulation = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(16u /* 16 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   bool, ::google::protobuf::internal::WireFormatLite::TYPE_BOOL>(
                 input, &whole_module_simulation_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HeapSimulatorTrace)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HeapSimulatorTrace)
  return false;
#undef DO_
}

void HeapSimulatorTrace::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HeapSimulatorTrace)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // repeated .xla.HeapSimulatorTrace.Event events = 1;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->events_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      1,
      this->events(static_cast<int>(i)),
      output);
  }

  // bool whole_module_simulation = 2;
  if (this->whole_module_simulation() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteBool(2, this->whole_module_simulation(), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HeapSimulatorTrace)
}

::google::protobuf::uint8* HeapSimulatorTrace::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HeapSimulatorTrace)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // repeated .xla.HeapSimulatorTrace.Event events = 1;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->events_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        1, this->events(static_cast<int>(i)), deterministic, target);
  }

  // bool whole_module_simulation = 2;
  if (this->whole_module_simulation() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteBoolToArray(2, this->whole_module_simulation(), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HeapSimulatorTrace)
  return target;
}

size_t HeapSimulatorTrace::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HeapSimulatorTrace)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated .xla.HeapSimulatorTrace.Event events = 1;
  {
    unsigned int count = static_cast<unsigned int>(this->events_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->events(static_cast<int>(i)));
    }
  }

  // bool whole_module_simulation = 2;
  if (this->whole_module_simulation() != 0) {
    total_size += 1 + 1;
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HeapSimulatorTrace::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HeapSimulatorTrace)
  GOOGLE_DCHECK_NE(&from, this);
  const HeapSimulatorTrace* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HeapSimulatorTrace>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HeapSimulatorTrace)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HeapSimulatorTrace)
    MergeFrom(*source);
  }
}

void HeapSimulatorTrace::MergeFrom(const HeapSimulatorTrace& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HeapSimulatorTrace)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  events_.MergeFrom(from.events_);
  if (from.whole_module_simulation() != 0) {
    set_whole_module_simulation(from.whole_module_simulation());
  }
}

void HeapSimulatorTrace::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HeapSimulatorTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HeapSimulatorTrace::CopyFrom(const HeapSimulatorTrace& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HeapSimulatorTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HeapSimulatorTrace::IsInitialized() const {
  return true;
}

void HeapSimulatorTrace::Swap(HeapSimulatorTrace* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HeapSimulatorTrace* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HeapSimulatorTrace::UnsafeArenaSwap(HeapSimulatorTrace* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HeapSimulatorTrace::InternalSwap(HeapSimulatorTrace* other) {
  using std::swap;
  CastToBase(&events_)->InternalSwap(CastToBase(&other->events_));
  swap(whole_module_simulation_, other->whole_module_simulation_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HeapSimulatorTrace::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void BufferAssignmentProto_BufferAlias::InitAsDefaultInstance() {
  ::xla::_BufferAssignmentProto_BufferAlias_default_instance_._instance.get_mutable()->location_ = const_cast< ::xla::LogicalBufferProto_Location*>(
      ::xla::LogicalBufferProto_Location::internal_default_instance());
}
void BufferAssignmentProto_BufferAlias::unsafe_arena_set_allocated_location(
    ::xla::LogicalBufferProto_Location* location) {
  if (GetArenaNoVirtual() == NULL) {
    delete location_;
  }
  location_ = location;
  if (location) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.BufferAssignmentProto.BufferAlias.location)
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int BufferAssignmentProto_BufferAlias::kSourceBufferIdFieldNumber;
const int BufferAssignmentProto_BufferAlias::kLocationFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

BufferAssignmentProto_BufferAlias::BufferAssignmentProto_BufferAlias()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAssignmentProto_BufferAlias();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.BufferAssignmentProto.BufferAlias)
}
BufferAssignmentProto_BufferAlias::BufferAssignmentProto_BufferAlias(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAssignmentProto_BufferAlias();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.BufferAssignmentProto.BufferAlias)
}
BufferAssignmentProto_BufferAlias::BufferAssignmentProto_BufferAlias(const BufferAssignmentProto_BufferAlias& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  if (from.has_location()) {
    location_ = new ::xla::LogicalBufferProto_Location(*from.location_);
  } else {
    location_ = NULL;
  }
  source_buffer_id_ = from.source_buffer_id_;
  // @@protoc_insertion_point(copy_constructor:xla.BufferAssignmentProto.BufferAlias)
}

void BufferAssignmentProto_BufferAlias::SharedCtor() {
  ::memset(&location_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&source_buffer_id_) -
      reinterpret_cast<char*>(&location_)) + sizeof(source_buffer_id_));
  _cached_size_ = 0;
}

BufferAssignmentProto_BufferAlias::~BufferAssignmentProto_BufferAlias() {
  // @@protoc_insertion_point(destructor:xla.BufferAssignmentProto.BufferAlias)
  SharedDtor();
}

void BufferAssignmentProto_BufferAlias::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  if (this != internal_default_instance()) delete location_;
}

void BufferAssignmentProto_BufferAlias::ArenaDtor(void* object) {
  BufferAssignmentProto_BufferAlias* _this = reinterpret_cast< BufferAssignmentProto_BufferAlias* >(object);
  (void)_this;
}
void BufferAssignmentProto_BufferAlias::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void BufferAssignmentProto_BufferAlias::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* BufferAssignmentProto_BufferAlias::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const BufferAssignmentProto_BufferAlias& BufferAssignmentProto_BufferAlias::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAssignmentProto_BufferAlias();
  return *internal_default_instance();
}


void BufferAssignmentProto_BufferAlias::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.BufferAssignmentProto.BufferAlias)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  if (GetArenaNoVirtual() == NULL && location_ != NULL) {
    delete location_;
  }
  location_ = NULL;
  source_buffer_id_ = GOOGLE_LONGLONG(0);
  _internal_metadata_.Clear();
}

bool BufferAssignmentProto_BufferAlias::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.BufferAssignmentProto.BufferAlias)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // int64 source_buffer_id = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(8u /* 8 & 0xFF */)) {

          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   ::google::protobuf::int64, ::google::protobuf::internal::WireFormatLite::TYPE_INT64>(
                 input, &source_buffer_id_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.LogicalBufferProto.Location location = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_location()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.BufferAssignmentProto.BufferAlias)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.BufferAssignmentProto.BufferAlias)
  return false;
#undef DO_
}

void BufferAssignmentProto_BufferAlias::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.BufferAssignmentProto.BufferAlias)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 source_buffer_id = 1;
  if (this->source_buffer_id() != 0) {
    ::google::protobuf::internal::WireFormatLite::WriteInt64(1, this->source_buffer_id(), output);
  }

  // .xla.LogicalBufferProto.Location location = 2;
  if (this->has_location()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      2, *location_, output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.BufferAssignmentProto.BufferAlias)
}

::google::protobuf::uint8* BufferAssignmentProto_BufferAlias::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.BufferAssignmentProto.BufferAlias)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // int64 source_buffer_id = 1;
  if (this->source_buffer_id() != 0) {
    target = ::google::protobuf::internal::WireFormatLite::WriteInt64ToArray(1, this->source_buffer_id(), target);
  }

  // .xla.LogicalBufferProto.Location location = 2;
  if (this->has_location()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        2, *location_, deterministic, target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.BufferAssignmentProto.BufferAlias)
  return target;
}

size_t BufferAssignmentProto_BufferAlias::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.BufferAssignmentProto.BufferAlias)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // .xla.LogicalBufferProto.Location location = 2;
  if (this->has_location()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *location_);
  }

  // int64 source_buffer_id = 1;
  if (this->source_buffer_id() != 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::Int64Size(
        this->source_buffer_id());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void BufferAssignmentProto_BufferAlias::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.BufferAssignmentProto.BufferAlias)
  GOOGLE_DCHECK_NE(&from, this);
  const BufferAssignmentProto_BufferAlias* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const BufferAssignmentProto_BufferAlias>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.BufferAssignmentProto.BufferAlias)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.BufferAssignmentProto.BufferAlias)
    MergeFrom(*source);
  }
}

void BufferAssignmentProto_BufferAlias::MergeFrom(const BufferAssignmentProto_BufferAlias& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.BufferAssignmentProto.BufferAlias)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  if (from.has_location()) {
    mutable_location()->::xla::LogicalBufferProto_Location::MergeFrom(from.location());
  }
  if (from.source_buffer_id() != 0) {
    set_source_buffer_id(from.source_buffer_id());
  }
}

void BufferAssignmentProto_BufferAlias::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.BufferAssignmentProto.BufferAlias)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void BufferAssignmentProto_BufferAlias::CopyFrom(const BufferAssignmentProto_BufferAlias& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.BufferAssignmentProto.BufferAlias)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool BufferAssignmentProto_BufferAlias::IsInitialized() const {
  return true;
}

void BufferAssignmentProto_BufferAlias::Swap(BufferAssignmentProto_BufferAlias* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    BufferAssignmentProto_BufferAlias* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void BufferAssignmentProto_BufferAlias::UnsafeArenaSwap(BufferAssignmentProto_BufferAlias* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void BufferAssignmentProto_BufferAlias::InternalSwap(BufferAssignmentProto_BufferAlias* other) {
  using std::swap;
  swap(location_, other->location_);
  swap(source_buffer_id_, other->source_buffer_id_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata BufferAssignmentProto_BufferAlias::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void BufferAssignmentProto::InitAsDefaultInstance() {
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int BufferAssignmentProto::kLogicalBuffersFieldNumber;
const int BufferAssignmentProto::kBufferAliasesFieldNumber;
const int BufferAssignmentProto::kBufferAllocationsFieldNumber;
const int BufferAssignmentProto::kHeapSimulatorTracesFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

BufferAssignmentProto::BufferAssignmentProto()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAssignmentProto();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.BufferAssignmentProto)
}
BufferAssignmentProto::BufferAssignmentProto(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  logical_buffers_(arena),
  buffer_aliases_(arena),
  buffer_allocations_(arena),
  heap_simulator_traces_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAssignmentProto();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.BufferAssignmentProto)
}
BufferAssignmentProto::BufferAssignmentProto(const BufferAssignmentProto& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      logical_buffers_(from.logical_buffers_),
      buffer_aliases_(from.buffer_aliases_),
      buffer_allocations_(from.buffer_allocations_),
      heap_simulator_traces_(from.heap_simulator_traces_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  // @@protoc_insertion_point(copy_constructor:xla.BufferAssignmentProto)
}

void BufferAssignmentProto::SharedCtor() {
  _cached_size_ = 0;
}

BufferAssignmentProto::~BufferAssignmentProto() {
  // @@protoc_insertion_point(destructor:xla.BufferAssignmentProto)
  SharedDtor();
}

void BufferAssignmentProto::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
}

void BufferAssignmentProto::ArenaDtor(void* object) {
  BufferAssignmentProto* _this = reinterpret_cast< BufferAssignmentProto* >(object);
  (void)_this;
}
void BufferAssignmentProto::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void BufferAssignmentProto::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* BufferAssignmentProto::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const BufferAssignmentProto& BufferAssignmentProto::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsBufferAssignmentProto();
  return *internal_default_instance();
}


void BufferAssignmentProto::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.BufferAssignmentProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  logical_buffers_.Clear();
  buffer_aliases_.Clear();
  buffer_allocations_.Clear();
  heap_simulator_traces_.Clear();
  _internal_metadata_.Clear();
}

bool BufferAssignmentProto::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.BufferAssignmentProto)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // repeated .xla.LogicalBufferProto logical_buffers = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_logical_buffers()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_buffer_aliases()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .xla.BufferAllocationProto buffer_allocations = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u /* 26 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_buffer_allocations()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(34u /* 34 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_heap_simulator_traces()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.BufferAssignmentProto)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.BufferAssignmentProto)
  return false;
#undef DO_
}

void BufferAssignmentProto::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.BufferAssignmentProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // repeated .xla.LogicalBufferProto logical_buffers = 1;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->logical_buffers_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      1,
      this->logical_buffers(static_cast<int>(i)),
      output);
  }

  // repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->buffer_aliases_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      2,
      this->buffer_aliases(static_cast<int>(i)),
      output);
  }

  // repeated .xla.BufferAllocationProto buffer_allocations = 3;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->buffer_allocations_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      3,
      this->buffer_allocations(static_cast<int>(i)),
      output);
  }

  // repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->heap_simulator_traces_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      4,
      this->heap_simulator_traces(static_cast<int>(i)),
      output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.BufferAssignmentProto)
}

::google::protobuf::uint8* BufferAssignmentProto::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.BufferAssignmentProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // repeated .xla.LogicalBufferProto logical_buffers = 1;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->logical_buffers_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        1, this->logical_buffers(static_cast<int>(i)), deterministic, target);
  }

  // repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->buffer_aliases_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        2, this->buffer_aliases(static_cast<int>(i)), deterministic, target);
  }

  // repeated .xla.BufferAllocationProto buffer_allocations = 3;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->buffer_allocations_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        3, this->buffer_allocations(static_cast<int>(i)), deterministic, target);
  }

  // repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->heap_simulator_traces_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        4, this->heap_simulator_traces(static_cast<int>(i)), deterministic, target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.BufferAssignmentProto)
  return target;
}

size_t BufferAssignmentProto::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.BufferAssignmentProto)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated .xla.LogicalBufferProto logical_buffers = 1;
  {
    unsigned int count = static_cast<unsigned int>(this->logical_buffers_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->logical_buffers(static_cast<int>(i)));
    }
  }

  // repeated .xla.BufferAssignmentProto.BufferAlias buffer_aliases = 2;
  {
    unsigned int count = static_cast<unsigned int>(this->buffer_aliases_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->buffer_aliases(static_cast<int>(i)));
    }
  }

  // repeated .xla.BufferAllocationProto buffer_allocations = 3;
  {
    unsigned int count = static_cast<unsigned int>(this->buffer_allocations_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->buffer_allocations(static_cast<int>(i)));
    }
  }

  // repeated .xla.HeapSimulatorTrace heap_simulator_traces = 4;
  {
    unsigned int count = static_cast<unsigned int>(this->heap_simulator_traces_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->heap_simulator_traces(static_cast<int>(i)));
    }
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void BufferAssignmentProto::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.BufferAssignmentProto)
  GOOGLE_DCHECK_NE(&from, this);
  const BufferAssignmentProto* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const BufferAssignmentProto>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.BufferAssignmentProto)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.BufferAssignmentProto)
    MergeFrom(*source);
  }
}

void BufferAssignmentProto::MergeFrom(const BufferAssignmentProto& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.BufferAssignmentProto)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  logical_buffers_.MergeFrom(from.logical_buffers_);
  buffer_aliases_.MergeFrom(from.buffer_aliases_);
  buffer_allocations_.MergeFrom(from.buffer_allocations_);
  heap_simulator_traces_.MergeFrom(from.heap_simulator_traces_);
}

void BufferAssignmentProto::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.BufferAssignmentProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void BufferAssignmentProto::CopyFrom(const BufferAssignmentProto& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.BufferAssignmentProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool BufferAssignmentProto::IsInitialized() const {
  return true;
}

void BufferAssignmentProto::Swap(BufferAssignmentProto* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    BufferAssignmentProto* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void BufferAssignmentProto::UnsafeArenaSwap(BufferAssignmentProto* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void BufferAssignmentProto::InternalSwap(BufferAssignmentProto* other) {
  using std::swap;
  CastToBase(&logical_buffers_)->InternalSwap(CastToBase(&other->logical_buffers_));
  CastToBase(&buffer_aliases_)->InternalSwap(CastToBase(&other->buffer_aliases_));
  CastToBase(&buffer_allocations_)->InternalSwap(CastToBase(&other->buffer_allocations_));
  CastToBase(&heap_simulator_traces_)->InternalSwap(CastToBase(&other->heap_simulator_traces_));
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata BufferAssignmentProto::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HloProto::InitAsDefaultInstance() {
  ::xla::_HloProto_default_instance_._instance.get_mutable()->hlo_module_ = const_cast< ::xla::HloModuleProto*>(
      ::xla::HloModuleProto::internal_default_instance());
  ::xla::_HloProto_default_instance_._instance.get_mutable()->hlo_ordering_ = const_cast< ::xla::HloOrderingProto*>(
      ::xla::HloOrderingProto::internal_default_instance());
  ::xla::_HloProto_default_instance_._instance.get_mutable()->buffer_assignment_ = const_cast< ::xla::BufferAssignmentProto*>(
      ::xla::BufferAssignmentProto::internal_default_instance());
}
void HloProto::unsafe_arena_set_allocated_hlo_module(
    ::xla::HloModuleProto* hlo_module) {
  if (GetArenaNoVirtual() == NULL) {
    delete hlo_module_;
  }
  hlo_module_ = hlo_module;
  if (hlo_module) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloProto.hlo_module)
}
void HloProto::unsafe_arena_set_allocated_hlo_ordering(
    ::xla::HloOrderingProto* hlo_ordering) {
  if (GetArenaNoVirtual() == NULL) {
    delete hlo_ordering_;
  }
  hlo_ordering_ = hlo_ordering;
  if (hlo_ordering) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloProto.hlo_ordering)
}
void HloProto::unsafe_arena_set_allocated_buffer_assignment(
    ::xla::BufferAssignmentProto* buffer_assignment) {
  if (GetArenaNoVirtual() == NULL) {
    delete buffer_assignment_;
  }
  buffer_assignment_ = buffer_assignment;
  if (buffer_assignment) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloProto.buffer_assignment)
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HloProto::kHloModuleFieldNumber;
const int HloProto::kHloOrderingFieldNumber;
const int HloProto::kBufferAssignmentFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HloProto::HloProto()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloProto();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HloProto)
}
HloProto::HloProto(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloProto();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HloProto)
}
HloProto::HloProto(const HloProto& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  if (from.has_hlo_module()) {
    hlo_module_ = new ::xla::HloModuleProto(*from.hlo_module_);
  } else {
    hlo_module_ = NULL;
  }
  if (from.has_hlo_ordering()) {
    hlo_ordering_ = new ::xla::HloOrderingProto(*from.hlo_ordering_);
  } else {
    hlo_ordering_ = NULL;
  }
  if (from.has_buffer_assignment()) {
    buffer_assignment_ = new ::xla::BufferAssignmentProto(*from.buffer_assignment_);
  } else {
    buffer_assignment_ = NULL;
  }
  // @@protoc_insertion_point(copy_constructor:xla.HloProto)
}

void HloProto::SharedCtor() {
  ::memset(&hlo_module_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&buffer_assignment_) -
      reinterpret_cast<char*>(&hlo_module_)) + sizeof(buffer_assignment_));
  _cached_size_ = 0;
}

HloProto::~HloProto() {
  // @@protoc_insertion_point(destructor:xla.HloProto)
  SharedDtor();
}

void HloProto::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  if (this != internal_default_instance()) delete hlo_module_;
  if (this != internal_default_instance()) delete hlo_ordering_;
  if (this != internal_default_instance()) delete buffer_assignment_;
}

void HloProto::ArenaDtor(void* object) {
  HloProto* _this = reinterpret_cast< HloProto* >(object);
  (void)_this;
}
void HloProto::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HloProto::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HloProto::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HloProto& HloProto::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloProto();
  return *internal_default_instance();
}


void HloProto::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HloProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  if (GetArenaNoVirtual() == NULL && hlo_module_ != NULL) {
    delete hlo_module_;
  }
  hlo_module_ = NULL;
  if (GetArenaNoVirtual() == NULL && hlo_ordering_ != NULL) {
    delete hlo_ordering_;
  }
  hlo_ordering_ = NULL;
  if (GetArenaNoVirtual() == NULL && buffer_assignment_ != NULL) {
    delete buffer_assignment_;
  }
  buffer_assignment_ = NULL;
  _internal_metadata_.Clear();
}

bool HloProto::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HloProto)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // .xla.HloModuleProto hlo_module = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_hlo_module()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.HloOrderingProto hlo_ordering = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_hlo_ordering()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.BufferAssignmentProto buffer_assignment = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u /* 26 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_buffer_assignment()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HloProto)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HloProto)
  return false;
#undef DO_
}

void HloProto::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HloProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // .xla.HloModuleProto hlo_module = 1;
  if (this->has_hlo_module()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      1, *hlo_module_, output);
  }

  // .xla.HloOrderingProto hlo_ordering = 2;
  if (this->has_hlo_ordering()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      2, *hlo_ordering_, output);
  }

  // .xla.BufferAssignmentProto buffer_assignment = 3;
  if (this->has_buffer_assignment()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      3, *buffer_assignment_, output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HloProto)
}

::google::protobuf::uint8* HloProto::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HloProto)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // .xla.HloModuleProto hlo_module = 1;
  if (this->has_hlo_module()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        1, *hlo_module_, deterministic, target);
  }

  // .xla.HloOrderingProto hlo_ordering = 2;
  if (this->has_hlo_ordering()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        2, *hlo_ordering_, deterministic, target);
  }

  // .xla.BufferAssignmentProto buffer_assignment = 3;
  if (this->has_buffer_assignment()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        3, *buffer_assignment_, deterministic, target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HloProto)
  return target;
}

size_t HloProto::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HloProto)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // .xla.HloModuleProto hlo_module = 1;
  if (this->has_hlo_module()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *hlo_module_);
  }

  // .xla.HloOrderingProto hlo_ordering = 2;
  if (this->has_hlo_ordering()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *hlo_ordering_);
  }

  // .xla.BufferAssignmentProto buffer_assignment = 3;
  if (this->has_buffer_assignment()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *buffer_assignment_);
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HloProto::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HloProto)
  GOOGLE_DCHECK_NE(&from, this);
  const HloProto* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HloProto>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HloProto)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HloProto)
    MergeFrom(*source);
  }
}

void HloProto::MergeFrom(const HloProto& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HloProto)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  if (from.has_hlo_module()) {
    mutable_hlo_module()->::xla::HloModuleProto::MergeFrom(from.hlo_module());
  }
  if (from.has_hlo_ordering()) {
    mutable_hlo_ordering()->::xla::HloOrderingProto::MergeFrom(from.hlo_ordering());
  }
  if (from.has_buffer_assignment()) {
    mutable_buffer_assignment()->::xla::BufferAssignmentProto::MergeFrom(from.buffer_assignment());
  }
}

void HloProto::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HloProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HloProto::CopyFrom(const HloProto& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HloProto)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HloProto::IsInitialized() const {
  return true;
}

void HloProto::Swap(HloProto* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HloProto* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HloProto::UnsafeArenaSwap(HloProto* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HloProto::InternalSwap(HloProto* other) {
  using std::swap;
  swap(hlo_module_, other->hlo_module_);
  swap(hlo_ordering_, other->hlo_ordering_);
  swap(buffer_assignment_, other->buffer_assignment_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HloProto::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// ===================================================================

void HloSnapshot::InitAsDefaultInstance() {
  ::xla::_HloSnapshot_default_instance_._instance.get_mutable()->hlo_ = const_cast< ::xla::HloProto*>(
      ::xla::HloProto::internal_default_instance());
  ::xla::_HloSnapshot_default_instance_._instance.get_mutable()->result_ = const_cast< ::xla::LiteralProto*>(
      ::xla::LiteralProto::internal_default_instance());
}
void HloSnapshot::unsafe_arena_set_allocated_hlo(
    ::xla::HloProto* hlo) {
  if (GetArenaNoVirtual() == NULL) {
    delete hlo_;
  }
  hlo_ = hlo;
  if (hlo) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloSnapshot.hlo)
}
void HloSnapshot::clear_arguments() {
  arguments_.Clear();
}
void HloSnapshot::unsafe_arena_set_allocated_result(
    ::xla::LiteralProto* result) {
  if (GetArenaNoVirtual() == NULL) {
    delete result_;
  }
  result_ = result;
  if (result) {
    
  } else {
    
  }
  // @@protoc_insertion_point(field_unsafe_arena_set_allocated:xla.HloSnapshot.result)
}
void HloSnapshot::clear_result() {
  if (GetArenaNoVirtual() == NULL && result_ != NULL) {
    delete result_;
  }
  result_ = NULL;
}
#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int HloSnapshot::kHloFieldNumber;
const int HloSnapshot::kArgumentsFieldNumber;
const int HloSnapshot::kResultFieldNumber;
const int HloSnapshot::kExecutionPlatformFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

HloSnapshot::HloSnapshot()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloSnapshot();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:xla.HloSnapshot)
}
HloSnapshot::HloSnapshot(::google::protobuf::Arena* arena)
  : ::google::protobuf::Message(),
  _internal_metadata_(arena),
  arguments_(arena) {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloSnapshot();
  SharedCtor();
  RegisterArenaDtor(arena);
  // @@protoc_insertion_point(arena_constructor:xla.HloSnapshot)
}
HloSnapshot::HloSnapshot(const HloSnapshot& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      arguments_(from.arguments_),
      _cached_size_(0) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  execution_platform_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.execution_platform().size() > 0) {
    execution_platform_.Set(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.execution_platform(),
      GetArenaNoVirtual());
  }
  if (from.has_hlo()) {
    hlo_ = new ::xla::HloProto(*from.hlo_);
  } else {
    hlo_ = NULL;
  }
  if (from.has_result()) {
    result_ = new ::xla::LiteralProto(*from.result_);
  } else {
    result_ = NULL;
  }
  // @@protoc_insertion_point(copy_constructor:xla.HloSnapshot)
}

void HloSnapshot::SharedCtor() {
  execution_platform_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  ::memset(&hlo_, 0, static_cast<size_t>(
      reinterpret_cast<char*>(&result_) -
      reinterpret_cast<char*>(&hlo_)) + sizeof(result_));
  _cached_size_ = 0;
}

HloSnapshot::~HloSnapshot() {
  // @@protoc_insertion_point(destructor:xla.HloSnapshot)
  SharedDtor();
}

void HloSnapshot::SharedDtor() {
  GOOGLE_DCHECK(GetArenaNoVirtual() == NULL);
  execution_platform_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (this != internal_default_instance()) delete hlo_;
  if (this != internal_default_instance()) delete result_;
}

void HloSnapshot::ArenaDtor(void* object) {
  HloSnapshot* _this = reinterpret_cast< HloSnapshot* >(object);
  (void)_this;
}
void HloSnapshot::RegisterArenaDtor(::google::protobuf::Arena* arena) {
}
void HloSnapshot::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* HloSnapshot::descriptor() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages].descriptor;
}

const HloSnapshot& HloSnapshot::default_instance() {
  ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::InitDefaultsHloSnapshot();
  return *internal_default_instance();
}


void HloSnapshot::Clear() {
// @@protoc_insertion_point(message_clear_start:xla.HloSnapshot)
  ::google::protobuf::uint32 cached_has_bits = 0;
  // Prevent compiler warnings about cached_has_bits being unused
  (void) cached_has_bits;

  arguments_.Clear();
  execution_platform_.ClearToEmpty(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), GetArenaNoVirtual());
  if (GetArenaNoVirtual() == NULL && hlo_ != NULL) {
    delete hlo_;
  }
  hlo_ = NULL;
  if (GetArenaNoVirtual() == NULL && result_ != NULL) {
    delete result_;
  }
  result_ = NULL;
  _internal_metadata_.Clear();
}

bool HloSnapshot::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:xla.HloSnapshot)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // .xla.HloProto hlo = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u /* 10 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_hlo()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .xla.LiteralProto arguments = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u /* 18 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
                input, add_arguments()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // .xla.LiteralProto result = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u /* 26 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessage(
               input, mutable_result()));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // string execution_platform = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(34u /* 34 & 0xFF */)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_execution_platform()));
          DO_(::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
            this->execution_platform().data(), static_cast<int>(this->execution_platform().length()),
            ::google::protobuf::internal::WireFormatLite::PARSE,
            "xla.HloSnapshot.execution_platform"));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, _internal_metadata_.mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:xla.HloSnapshot)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:xla.HloSnapshot)
  return false;
#undef DO_
}

void HloSnapshot::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:xla.HloSnapshot)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // .xla.HloProto hlo = 1;
  if (this->has_hlo()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      1, *hlo_, output);
  }

  // repeated .xla.LiteralProto arguments = 2;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->arguments_size()); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      2,
      this->arguments(static_cast<int>(i)),
      output);
  }

  // .xla.LiteralProto result = 3;
  if (this->has_result()) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      3, *result_, output);
  }

  // string execution_platform = 4;
  if (this->execution_platform().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->execution_platform().data(), static_cast<int>(this->execution_platform().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloSnapshot.execution_platform");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      4, this->execution_platform(), output);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), output);
  }
  // @@protoc_insertion_point(serialize_end:xla.HloSnapshot)
}

::google::protobuf::uint8* HloSnapshot::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic; // Unused
  // @@protoc_insertion_point(serialize_to_array_start:xla.HloSnapshot)
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  // .xla.HloProto hlo = 1;
  if (this->has_hlo()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        1, *hlo_, deterministic, target);
  }

  // repeated .xla.LiteralProto arguments = 2;
  for (unsigned int i = 0,
      n = static_cast<unsigned int>(this->arguments_size()); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        2, this->arguments(static_cast<int>(i)), deterministic, target);
  }

  // .xla.LiteralProto result = 3;
  if (this->has_result()) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageToArray(
        3, *result_, deterministic, target);
  }

  // string execution_platform = 4;
  if (this->execution_platform().size() > 0) {
    ::google::protobuf::internal::WireFormatLite::VerifyUtf8String(
      this->execution_platform().data(), static_cast<int>(this->execution_platform().length()),
      ::google::protobuf::internal::WireFormatLite::SERIALIZE,
      "xla.HloSnapshot.execution_platform");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        4, this->execution_platform(), target);
  }

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:xla.HloSnapshot)
  return target;
}

size_t HloSnapshot::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:xla.HloSnapshot)
  size_t total_size = 0;

  if ((_internal_metadata_.have_unknown_fields() &&  ::google::protobuf::internal::GetProto3PreserveUnknownsDefault())) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        (::google::protobuf::internal::GetProto3PreserveUnknownsDefault()   ? _internal_metadata_.unknown_fields()   : _internal_metadata_.default_instance()));
  }
  // repeated .xla.LiteralProto arguments = 2;
  {
    unsigned int count = static_cast<unsigned int>(this->arguments_size());
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSize(
          this->arguments(static_cast<int>(i)));
    }
  }

  // string execution_platform = 4;
  if (this->execution_platform().size() > 0) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->execution_platform());
  }

  // .xla.HloProto hlo = 1;
  if (this->has_hlo()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *hlo_);
  }

  // .xla.LiteralProto result = 3;
  if (this->has_result()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::MessageSize(
        *result_);
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void HloSnapshot::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:xla.HloSnapshot)
  GOOGLE_DCHECK_NE(&from, this);
  const HloSnapshot* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const HloSnapshot>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:xla.HloSnapshot)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:xla.HloSnapshot)
    MergeFrom(*source);
  }
}

void HloSnapshot::MergeFrom(const HloSnapshot& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:xla.HloSnapshot)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  ::google::protobuf::uint32 cached_has_bits = 0;
  (void) cached_has_bits;

  arguments_.MergeFrom(from.arguments_);
  if (from.execution_platform().size() > 0) {
    set_execution_platform(from.execution_platform());
  }
  if (from.has_hlo()) {
    mutable_hlo()->::xla::HloProto::MergeFrom(from.hlo());
  }
  if (from.has_result()) {
    mutable_result()->::xla::LiteralProto::MergeFrom(from.result());
  }
}

void HloSnapshot::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:xla.HloSnapshot)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void HloSnapshot::CopyFrom(const HloSnapshot& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:xla.HloSnapshot)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool HloSnapshot::IsInitialized() const {
  return true;
}

void HloSnapshot::Swap(HloSnapshot* other) {
  if (other == this) return;
  if (GetArenaNoVirtual() == other->GetArenaNoVirtual()) {
    InternalSwap(other);
  } else {
    HloSnapshot* temp = New(GetArenaNoVirtual());
    temp->MergeFrom(*other);
    other->CopyFrom(*this);
    InternalSwap(temp);
    if (GetArenaNoVirtual() == NULL) {
      delete temp;
    }
  }
}
void HloSnapshot::UnsafeArenaSwap(HloSnapshot* other) {
  if (other == this) return;
  GOOGLE_DCHECK(GetArenaNoVirtual() == other->GetArenaNoVirtual());
  InternalSwap(other);
}
void HloSnapshot::InternalSwap(HloSnapshot* other) {
  using std::swap;
  CastToBase(&arguments_)->InternalSwap(CastToBase(&other->arguments_));
  execution_platform_.Swap(&other->execution_platform_);
  swap(hlo_, other->hlo_);
  swap(result_, other->result_);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata HloSnapshot::GetMetadata() const {
  protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::protobuf_AssignDescriptorsOnce();
  return ::protobuf_tensorflow_2fcompiler_2fxla_2fservice_2fhlo_2eproto::file_level_metadata[kIndexInFileMessages];
}


// @@protoc_insertion_point(namespace_scope)
}  // namespace xla
namespace google {
namespace protobuf {
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HloInstructionProto_SliceDimensions* Arena::CreateMessage< ::xla::HloInstructionProto_SliceDimensions >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HloInstructionProto_SliceDimensions >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HloInstructionProto* Arena::CreateMessage< ::xla::HloInstructionProto >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HloInstructionProto >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HloComputationProto* Arena::CreateMessage< ::xla::HloComputationProto >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HloComputationProto >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HloModuleProto* Arena::CreateMessage< ::xla::HloModuleProto >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HloModuleProto >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HloOrderingProto_SequentialComputation* Arena::CreateMessage< ::xla::HloOrderingProto_SequentialComputation >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HloOrderingProto_SequentialComputation >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HloOrderingProto* Arena::CreateMessage< ::xla::HloOrderingProto >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HloOrderingProto >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::LogicalBufferProto_Location* Arena::CreateMessage< ::xla::LogicalBufferProto_Location >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::LogicalBufferProto_Location >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::LogicalBufferProto* Arena::CreateMessage< ::xla::LogicalBufferProto >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::LogicalBufferProto >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::BufferAllocationProto_Assigned* Arena::CreateMessage< ::xla::BufferAllocationProto_Assigned >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::BufferAllocationProto_Assigned >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::BufferAllocationProto* Arena::CreateMessage< ::xla::BufferAllocationProto >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::BufferAllocationProto >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HeapSimulatorTrace_Event* Arena::CreateMessage< ::xla::HeapSimulatorTrace_Event >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HeapSimulatorTrace_Event >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HeapSimulatorTrace* Arena::CreateMessage< ::xla::HeapSimulatorTrace >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HeapSimulatorTrace >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::BufferAssignmentProto_BufferAlias* Arena::CreateMessage< ::xla::BufferAssignmentProto_BufferAlias >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::BufferAssignmentProto_BufferAlias >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::BufferAssignmentProto* Arena::CreateMessage< ::xla::BufferAssignmentProto >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::BufferAssignmentProto >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HloProto* Arena::CreateMessage< ::xla::HloProto >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HloProto >(arena);
}
template<> GOOGLE_PROTOBUF_ATTRIBUTE_NOINLINE ::xla::HloSnapshot* Arena::CreateMessage< ::xla::HloSnapshot >(Arena* arena) {
  return Arena::CreateMessageInternal< ::xla::HloSnapshot >(arena);
}
}  // namespace protobuf
}  // namespace google

// @@protoc_insertion_point(global_scope)
